<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generaci√≥n de N√∫meros Pseudoaleatorios - Semana 3</title>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üé≤</text></svg>">

    <!-- External CSS -->
    <link rel="stylesheet" href="presentacion.css">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({
            startOnLoad: false,
            theme: 'dark',
            securityLevel: 'loose',
            themeVariables: {
                darkMode: true,
                primaryColor: '#E9AB21',
                primaryTextColor: '#ffffff',
                primaryBorderColor: '#ffffff',
                lineColor: '#ffffff',
                secondaryColor: '#23356E',
                tertiaryColor: '#910048',
                background: '#0f1419',
                mainBkg: '#0f1419',
                secondBkg: '#1a1f2e'
            },
            flowchart: {
                useMaxWidth: true,
                htmlLabels: false,
                curve: 'basis'
            }
        });
        console.log('‚úÖ Mermaid configured successfully');
    </script>
</head>

<body>
    <!-- Logo UIDE -->
    <div class="uide-logo">
        <img src="../../assets/images/Logo%20UIDE.png" alt="UIDE Logo">
    </div>

    <div class="presentation-container">

        <!-- Slide 1: Title -->
        <div class="slide active title-slide">
            <div style="text-align: center; margin-bottom: 2rem;">
                <h3 style="color: #e2e8f0; font-size: 1.3rem; font-weight: 700; margin-bottom: 1rem;">
                    Presentaci√≥n Semana 3
                </h3>
                <h2 style="color: var(--uide-accent); font-size: 2.2rem; font-weight: 600; margin-bottom: 0.5rem;">
                    Generaci√≥n de Variables Aleatorias
                </h2>
                <p style="color: #ffffff; font-size: 1.4rem; font-weight: 500;">
                    FT-06-SIM Simulaci√≥n ‚Ä¢ Sexto Nivel
                </p>
                <p style="color: #e2e8f0; font-size: 1.2rem; margin-top: 0.5rem;">
                    Ingenier√≠a en Tecnolog√≠as de la Informaci√≥n
                </p>
            </div>

            <div style="text-align: center; margin: 2rem 0;">
                <p style="color: #ffffff; font-size: 1.3rem; font-weight: 600;">
                    Mgs. Charlie Alexander C√°rdenas Toledo
                </p>
                <p style="color: var(--uide-primary); font-size: 1.2rem; font-weight: 500; margin-top: 0.5rem;">
                    Universidad Internacional del Ecuador ‚Ä¢ Octubre 2025 ‚Äì Febrero 2026
                </p>
            </div>

            <div style="text-align: center; margin-top: 2.5rem; padding: 25px; background: rgba(15, 20, 25, 0.6); border-radius: 15px; border: 1px solid rgba(255, 255, 255, 0.1);">
                <h3 style="color: var(--uide-accent); font-size: 1.4rem; margin-bottom: 1rem;">
                    <i class="fas fa-dice"></i> Unidad 2: Generaci√≥n de Variables Aleatorias
                </h3>
                <p style="color: #e2e8f0; font-size: 1.1rem; line-height: 1.4; margin: 0.5rem 0;">
                    <strong>Semana 3</strong> ‚Ä¢ Generadores Congruenciales (Mixto) ‚Ä¢ N√∫meros Uniformes ‚Ä¢ Pruebas B√°sicas de Uniformidad ‚Ä¢ Implementaci√≥n en Excel y R
                </p>
                <p style="color: #cbd5e1; font-size: 1rem; margin-top: 1rem; font-style: italic;">
                    Explicar generadores congruenciales y pruebas de uniformidad
                </p>
            </div>
        </div>

        <!-- Slide 2: Objetivos -->
        <div class="slide">
            <h2><i class="fas fa-bullseye"></i> Objetivos de la Presentaci√≥n</h2>
            <ul>
                <li>Comprender la <span class="highlight">naturaleza y definici√≥n</span> de los n√∫meros pseudoaleatorios</li>
                <li>Analizar las <span class="highlight">propiedades de uniformidad e independencia</span></li>
                <li>Dominar el <span class="highlight">Generador Congruencial Lineal (GCL) Mixto</span></li>
                <li>Aplicar <span class="highlight">pruebas de validaci√≥n</span> para verificar calidad</li>
                <li>Implementar generadores en <span class="highlight">Excel y R</span></li>
            </ul>
        </div>

        <!-- Slide 3: Agenda -->
        <div class="slide">
            <h2><i class="fas fa-chart-line"></i> Agenda</h2>
            <div class="content-grid">
                <div class="feature-card">
                    <h3>1. Fundamentos</h3>
                    <p>N√∫meros Pseudoaleatorios</p>
                </div>
                <div class="feature-card">
                    <h3>2. Propiedades</h3>
                    <p>Uniformidad e Independencia</p>
                </div>
                <div class="feature-card">
                    <h3>3. GCL Mixto</h3>
                    <p>Generador Congruencial Lineal</p>
                </div>
                <div class="feature-card">
                    <h3>4. Validaci√≥n</h3>
                    <p>Pruebas Estad√≠sticas</p>
                </div>
                <div class="feature-card">
                    <h3>5. Implementaci√≥n</h3>
                    <p>Excel y R</p>
                </div>
            </div>
        </div>

        <!-- Slide 3.5: Instalaci√≥n de R y RStudio -->
        <div class="slide">
            <h2><i class="fas fa-download"></i> Instalaci√≥n de R y RStudio</h2>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px; padding: 20px;">
                <!-- Paso 1: Instalar R -->
                <div style="background: rgba(35, 53, 110, 0.3); padding: 20px; border-radius: 12px; border: 2px solid var(--uide-accent);">
                    <div style="text-align: center; margin-bottom: 15px;">
                        <div style="background: var(--uide-accent); width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 10px;">
                            <span style="font-size: 2rem; font-weight: 700; color: #0f1419;">1</span>
                        </div>
                        <h3 style="color: var(--uide-accent); font-size: 1.3rem; margin: 0;">Instalar R</h3>
                    </div>
                    
                    <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <p style="font-size: 0.9rem; line-height: 1.5; margin: 0 0 10px 0;">
                            <strong>Requisito:</strong> R 3.6.0+
                        </p>
                        <p style="font-size: 0.85rem; line-height: 1.4; color: #cbd5e1; margin: 0;">
                            Elige la versi√≥n de R que coincida con tu sistema operativo.
                        </p>
                    </div>

                    <div style="text-align: center;">
                        <a href="https://cran.r-project.org/bin/windows/base/" target="_blank" 
                           style="display: inline-block; padding: 12px 24px; background: #4ade80; color: #0f1419; text-decoration: none; border-radius: 8px; font-weight: 600; font-size: 1rem; transition: all 0.3s;">
                            <i class="fas fa-download"></i> Descargar R para Windows
                        </a>
                    </div>

                    <div style="margin-top: 15px; padding: 10px; background: rgba(145, 0, 72, 0.1); border-radius: 6px; border-left: 4px solid var(--uide-primary);">
                        <p style="font-size: 0.75rem; margin: 0; color: #cbd5e1;">
                            <i class="fas fa-info-circle"></i> <strong>Nota:</strong> R no es un producto de Posit. Al hacer clic en el enlace, sales del sitio web de Posit.
                        </p>
                    </div>
                </div>

                <!-- Paso 2: Instalar RStudio -->
                <div style="background: rgba(35, 53, 110, 0.3); padding: 20px; border-radius: 12px; border: 2px solid var(--uide-primary);">
                    <div style="text-align: center; margin-bottom: 15px;">
                        <div style="background: var(--uide-primary); width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 10px;">
                            <span style="font-size: 2rem; font-weight: 700; color: white;">2</span>
                        </div>
                        <h3 style="color: var(--uide-primary); font-size: 1.3rem; margin: 0;">Instalar RStudio</h3>
                    </div>
                    
                    <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <div style="font-size: 0.85rem; line-height: 1.5;">
                            <p style="margin: 0 0 8px 0;"><strong>Versi√≥n:</strong> 2025.09.2+418</p>
                            <p style="margin: 0 0 8px 0;"><strong>Tama√±o:</strong> 296.74 MB</p>
                            <p style="margin: 0 0 8px 0;"><strong>Lanzamiento:</strong> 2025-10-29</p>
                            <p style="margin: 0; font-size: 0.75rem; color: #94a3b8;">
                                SHA-256: 439d3200
                            </p>
                        </div>
                    </div>

                    <div style="text-align: center;">
                        <a href="https://posit.co/download/rstudio-desktop/" target="_blank" 
                           style="display: inline-block; padding: 12px 24px; background: var(--uide-primary); color: white; text-decoration: none; border-radius: 8px; font-weight: 600; font-size: 1rem; transition: all 0.3s;">
                            <i class="fas fa-download"></i> Descargar RStudio Desktop
                        </a>
                    </div>

                    <div style="margin-top: 15px; padding: 10px; background: rgba(233, 171, 33, 0.1); border-radius: 6px; border-left: 4px solid var(--uide-accent);">
                        <p style="font-size: 0.75rem; margin: 0; color: #cbd5e1;">
                            <i class="fas fa-check-circle"></i> <strong>Recomendado:</strong> Instala primero R, luego RStudio
                        </p>
                    </div>
                </div>
            </div>

            <!-- Instrucciones adicionales -->
            <div style="text-align: center; margin-top: 20px; padding: 15px; background: rgba(15, 20, 25, 0.6); border-radius: 10px; border: 2px solid rgba(233, 171, 33, 0.3);">
                <p style="font-size: 0.95rem; margin: 0; color: #e2e8f0;">
                    <i class="fas fa-lightbulb"></i> <strong>Despu√©s de instalar:</strong> Abre RStudio y verifica que R est√© correctamente configurado
                </p>
            </div>
        </div>

        <!-- Slide 4.1: ¬øQu√© son los N√∫meros Pseudoaleatorios? - Conceptos -->
        <div class="slide">
            <h2><i class="fas fa-dice"></i> ¬øQu√© son los N√∫meros Pseudoaleatorios?</h2>
            <div style="background: rgba(233, 171, 33, 0.15); padding: 10px 20px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid var(--uide-accent);">
                <p style="margin: 0; font-size: 1rem; color: #e2e8f0;">
                    <i class="fas fa-university"></i> <strong>Caso de Uso:</strong> Simulaci√≥n de llegadas de clientes a un banco - Generamos tiempos aleatorios entre llegadas
                </p>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; padding: 0 20px;">
                <!-- Columna Izquierda: Definici√≥n -->
                <div style="display: flex; flex-direction: column; gap: 20px;">
                    <div class="quote" style="font-size: 1.1rem; padding: 20px; margin: 0;">
                        "Esenciales en simulaci√≥n estoc√°stica para reproducir variables aleatorias"
                    </div>
                    
                    <div style="background: rgba(35, 53, 110, 0.3); padding: 20px; border-radius: 12px; border: 2px solid var(--uide-accent);">
                        <h3 style="font-size: 1.3rem; margin-bottom: 15px; color: var(--uide-accent);">
                            <i class="fas fa-info-circle"></i> Definici√≥n
                        </h3>
                        <p style="font-size: 1rem; line-height: 1.7; color: #e2e8f0;">
                            Son n√∫meros generados por un <strong>algoritmo matem√°tico determinista</strong> que simulan el comportamiento de n√∫meros verdaderamente aleatorios.
                        </p>
                    </div>

                    <div style="background: rgba(233, 171, 33, 0.1); padding: 18px; border-radius: 10px; border-left: 4px solid var(--uide-accent);">
                        <p style="margin: 0 0 8px 0; font-size: 1.1rem;"><strong>Notaci√≥n:</strong> x ~ U(0,1)</p>
                        <p style="margin: 0; font-size: 0.95rem; color: #cbd5e1; line-height: 1.5;">
                            ‚Ä¢ Valores siempre entre 0 y 1<br>
                            ‚Ä¢ Nunca negativos ni mayores a 1<br>
                            ‚Ä¢ Base para cualquier distribuci√≥n
                        </p>
                    </div>
                </div>

                <!-- Columna Derecha: Caracter√≠sticas -->
                <div style="display: flex; flex-direction: column; gap: 20px;">
                    <div style="background: rgba(35, 53, 110, 0.3); padding: 20px; border-radius: 12px; border: 2px solid rgba(74, 222, 128, 0.3);">
                        <h3 style="font-size: 1.3rem; margin-bottom: 15px; color: #4ade80;">
                            <i class="fas fa-check-circle"></i> Caracter√≠sticas Clave
                        </h3>
                        <div style="display: flex; flex-direction: column; gap: 15px;">
                            <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 8px;">
                                <h4 style="font-size: 1.1rem; margin: 0 0 8px 0; color: var(--uide-accent);">
                                    <i class="fas fa-cog"></i> Deterministas
                                </h4>
                                <p style="margin: 0; font-size: 0.95rem; line-height: 1.5; color: #cbd5e1;">
                                    Generados por un algoritmo matem√°tico fijo y predecible
                                </p>
                            </div>

                            <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 8px;">
                                <h4 style="font-size: 1.1rem; margin: 0 0 8px 0; color: var(--uide-accent);">
                                    <i class="fas fa-redo"></i> Reproducibles
                                </h4>
                                <p style="margin: 0; font-size: 0.95rem; line-height: 1.5; color: #cbd5e1;">
                                    Misma semilla ‚Üí misma secuencia de n√∫meros
                                </p>
                            </div>

                            <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 8px;">
                                <h4 style="font-size: 1.1rem; margin: 0 0 8px 0; color: var(--uide-accent);">
                                    <i class="fas fa-chart-line"></i> Distribuci√≥n U(0,1)
                                </h4>
                                <p style="margin: 0; font-size: 0.95rem; line-height: 1.5; color: #cbd5e1;">
                                    Rango est√°ndar entre 0 y 1, uniformemente distribuidos
                                </p>
                            </div>
                        </div>
                    </div>

                    <div style="background: rgba(145, 0, 72, 0.1); padding: 15px; border-radius: 10px; border: 2px solid var(--uide-primary);">
                        <h4 style="font-size: 1rem; margin: 0 0 10px 0; color: var(--uide-primary); text-align: center;">
                            <i class="fas fa-lightbulb"></i> ¬øPor qu√© son importantes?
                        </h4>
                        <p style="margin: 0; font-size: 0.95rem; line-height: 1.6; color: #e2e8f0; text-align: center;">
                            Permiten <strong>replicar experimentos</strong> y <strong>validar resultados</strong> en simulaciones
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 4.2: Demostraci√≥n Interactiva - Reproducibilidad -->
        <div class="slide">
            <h2 style="margin-bottom: 0.5rem;"><i class="fas fa-play-circle"></i> Demostraci√≥n: Reproducibilidad de N√∫meros Pseudoaleatorios</h2>
            <div style="background: rgba(233, 171, 33, 0.15); padding: 8px 15px; border-radius: 6px; margin-bottom: 10px; border-left: 4px solid var(--uide-accent);">
                <p style="margin: 0; font-size: 0.85rem; color: #e2e8f0;">
                    <i class="fas fa-university"></i> <strong>Experimento:</strong> Dos simulaciones del banco con la misma semilla generan los mismos tiempos entre llegadas
                </p>
            </div>

            <div style="background: rgba(15, 20, 25, 0.6); border-radius: 10px; border: 2px solid var(--uide-accent); padding: 15px; margin: 0 15px; height: calc(100vh - 220px); max-height: 580px; display: flex; flex-direction: column;">
                <h3 style="text-align: center; color: var(--uide-accent); margin: 0 0 6px 0; font-size: 1.1rem;">
                    üé≤ Generadores Independientes
                </h3>
                <p style="text-align: center; font-size: 0.75rem; color: #94a3b8; margin: 0 0 12px 0; font-style: italic;">
                    Cambia las semillas y observa c√≥mo se comportan las secuencias
                </p>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; flex: 1; min-height: 0;">
                    <!-- Generador A -->
                    <div style="background: rgba(35, 53, 110, 0.3); padding: 15px; border-radius: 8px; border: 2px solid rgba(233, 171, 33, 0.5); display: flex; flex-direction: column; height: 100%;">
                        <h4 style="color: var(--uide-accent); margin: 0 0 10px 0; text-align: center; font-size: 1rem;">
                            üé≤ Generador A
                        </h4>
                        <div style="text-align: center; margin-bottom: 10px;">
                            <label style="color: #e2e8f0; font-size: 0.85rem; font-weight: 600;">Semilla:</label>
                            <input type="number" id="seed1" value="42" 
                                   style="width: 70px; margin-left: 8px; padding: 6px; background: rgba(255,255,255,0.1); border: 2px solid var(--uide-accent); color: white; border-radius: 6px; font-size: 0.9rem; font-weight: 600; text-align: center;">
                        </div>
                        <div id="sequence1" style="flex: 1; background: rgba(0,0,0,0.4); padding: 12px; border-radius: 6px; font-family: 'Courier New', monospace; font-size: 0.8rem; color: #4ade80; overflow-y: auto; line-height: 1.6; min-height: 0;">
                            <div style="color: #94a3b8; font-style: italic; font-size: 0.75rem; text-align: center;">Presiona "Generar"...</div>
                        </div>
                    </div>

                    <!-- Generador B -->
                    <div style="background: rgba(35, 53, 110, 0.3); padding: 15px; border-radius: 8px; border: 2px solid rgba(145, 0, 72, 0.5); display: flex; flex-direction: column; height: 100%;">
                        <h4 style="color: var(--uide-primary); margin: 0 0 10px 0; text-align: center; font-size: 1rem;">
                            üé≤ Generador B
                        </h4>
                        <div style="text-align: center; margin-bottom: 10px;">
                            <label style="color: #e2e8f0; font-size: 0.85rem; font-weight: 600;">Semilla:</label>
                            <input type="number" id="seed2" value="42" 
                                   style="width: 70px; margin-left: 8px; padding: 6px; background: rgba(255,255,255,0.1); border: 2px solid var(--uide-primary); color: white; border-radius: 6px; font-size: 0.9rem; font-weight: 600; text-align: center;">
                        </div>
                        <div id="sequence2" style="flex: 1; background: rgba(0,0,0,0.4); padding: 12px; border-radius: 6px; font-family: 'Courier New', monospace; font-size: 0.8rem; color: #f472b6; overflow-y: auto; line-height: 1.6; min-height: 0;">
                            <div style="color: #94a3b8; font-style: italic; font-size: 0.75rem; text-align: center;">Presiona "Generar"...</div>
                        </div>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 12px;">
                    <button id="generateBtn" style="padding: 10px 24px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 6px; font-weight: 700; font-size: 0.95rem; cursor: pointer; transition: all 0.3s; box-shadow: 0 4px 6px rgba(0,0,0,0.3);">
                        <i class="fas fa-sync-alt"></i> Generar Secuencias
                    </button>
                    <div id="comparisonResult" style="margin-top: 10px; font-size: 0.9rem; font-weight: 600; min-height: 25px;"></div>
                </div>

                <div style="background: rgba(233, 171, 33, 0.1); padding: 10px; border-radius: 6px; margin-top: 10px; border-left: 4px solid var(--uide-accent);">
                    <p style="margin: 0; font-size: 0.75rem; line-height: 1.4; color: #e2e8f0;">
                        <i class="fas fa-info-circle"></i> <strong>Prueba:</strong> Usa la misma semilla en ambos y observa secuencias id√©nticas. Cambia una semilla para ver secuencias diferentes.
                    </p>
                </div>
            </div>
        </div>

        <script>
        // Simulaci√≥n de Generador Congruencial Lineal simple
        function simpleRNG(seed, count = 10) {
            const a = 1103515245;
            const c = 12345;
            const m = Math.pow(2, 31);
            
            let x = seed;
            const sequence = [];
            
            for (let i = 0; i < count; i++) {
                x = (a * x + c) % m;
                const r = (x / m).toFixed(4);
                sequence.push(r);
            }
            
            return sequence;
        }

        // Funci√≥n para animar la generaci√≥n de n√∫meros
        function animateSequence(elementId, sequence, color) {
            const element = document.getElementById(elementId);
            element.innerHTML = '';
            
            sequence.forEach((num, index) => {
                setTimeout(() => {
                    const numSpan = document.createElement('span');
                    numSpan.textContent = num;
                    numSpan.style.display = 'inline-block';
                    numSpan.style.margin = '4px';
                    numSpan.style.padding = '6px 10px';
                    numSpan.style.background = 'rgba(255,255,255,0.1)';
                    numSpan.style.borderRadius = '5px';
                    numSpan.style.opacity = '0';
                    numSpan.style.transform = 'translateY(-10px)';
                    numSpan.style.transition = 'all 0.3s ease';
                    
                    element.appendChild(numSpan);
                    
                    setTimeout(() => {
                        numSpan.style.opacity = '1';
                        numSpan.style.transform = 'translateY(0)';
                    }, 10);
                }, index * 150);
            });
        }

        // Event listener para el bot√≥n
        document.addEventListener('DOMContentLoaded', function() {
            const generateBtn = document.getElementById('generateBtn');
            
            if (generateBtn) {
                generateBtn.addEventListener('click', function() {
                    const seed1 = parseInt(document.getElementById('seed1').value) || 42;
                    const seed2 = parseInt(document.getElementById('seed2').value) || 42;
                    
                    const seq1 = simpleRNG(seed1, 10);
                    const seq2 = simpleRNG(seed2, 10);
                    
                    animateSequence('sequence1', seq1, '#4ade80');
                    animateSequence('sequence2', seq2, '#f472b6');
                    
                    // Comparar secuencias
                    setTimeout(() => {
                        const resultDiv = document.getElementById('comparisonResult');
                        const areEqual = JSON.stringify(seq1) === JSON.stringify(seq2);
                        
                        if (areEqual) {
                            resultDiv.innerHTML = '<span style="color: #4ade80;"><i class="fas fa-check-circle"></i> ¬°Secuencias ID√âNTICAS! Misma semilla ‚Üí Misma secuencia</span>';
                        } else {
                            resultDiv.innerHTML = '<span style="color: #f472b6;"><i class="fas fa-times-circle"></i> Secuencias DIFERENTES - Semillas distintas generan secuencias distintas</span>';
                        }
                    }, 1600);
                });
            }
        });
        </script>


        <!-- Slide 5.1: Propiedad 1 - Uniformidad - Conceptos Te√≥ricos -->
        <div class="slide">
            <h2 style="margin-bottom: 0.5rem;"><i class="fas fa-chart-bar"></i> Propiedad 1: Uniformidad - Distribuci√≥n U(0,1)</h2>
            <div style="background: rgba(233, 171, 33, 0.15); padding: 8px 15px; border-radius: 6px; margin-bottom: 12px; border-left: 4px solid var(--uide-accent);">
                <p style="margin: 0; font-size: 0.85rem; color: #e2e8f0;">
                    <i class="fas fa-university"></i> <strong>Caso:</strong> Cada cliente tiene igual probabilidad de llegar en cualquier momento del d√≠a
                </p>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; padding: 0 15px; height: calc(100vh - 200px); max-height: 600px;">
                <!-- Columna Izquierda: Teor√≠a -->
                <div style="display: flex; flex-direction: column; gap: 12px; overflow-y: auto;">
                    <div style="background: rgba(35, 53, 110, 0.3); padding: 15px; border-radius: 10px; border: 2px solid var(--uide-accent);">
                        <h3 style="font-size: 1.1rem; margin: 0 0 10px 0; color: var(--uide-accent);">
                            <i class="fas fa-function"></i> Funci√≥n de Densidad
                        </h3>
                        <div class="code-block" style="font-size: 0.9rem; padding: 12px; line-height: 1.6;">f(x) = 1  si x ‚àà (0,1)
f(x) = 0  si x ‚àâ (0,1)</div>
                        <p style="font-size: 0.8rem; color: #cbd5e1; margin: 8px 0 0 0; font-style: italic;">
                            Probabilidad constante dentro del rango [0,1]
                        </p>
                    </div>
                    
                    <div style="background: rgba(35, 53, 110, 0.3); padding: 15px; border-radius: 10px; border: 2px solid rgba(74, 222, 128, 0.3);">
                        <h3 style="font-size: 1.1rem; margin: 0 0 10px 0; color: #4ade80;">
                            <i class="fas fa-calculator"></i> Par√°metros Te√≥ricos
                        </h3>
                        <div style="font-size: 0.85rem; line-height: 1.5;">
                            <div style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 6px; margin-bottom: 8px;">
                                <strong style="color: var(--uide-accent);">Media (Œº) = 0.5</strong>
                                <p style="font-size: 0.75rem; color: #cbd5e1; margin: 3px 0 0 10px;">
                                    Punto central: promedio de 0 y 1
                                </p>
                            </div>
                            <div style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 6px; margin-bottom: 8px;">
                                <strong style="color: var(--uide-accent);">Varianza (œÉ¬≤) = 1/12 ‚âà 0.0833</strong>
                                <p style="font-size: 0.75rem; color: #cbd5e1; margin: 3px 0 0 10px;">
                                    Dispersi√≥n de valores respecto a 0.5
                                </p>
                            </div>
                            <div style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 6px;">
                                <strong style="color: var(--uide-accent);">Desv. est√°ndar (œÉ) ‚âà 0.2887</strong>
                                <p style="font-size: 0.75rem; color: #cbd5e1; margin: 3px 0 0 10px;">
                                    Ra√≠z de la varianza: ‚àö(1/12)
                                </p>
                            </div>
                        </div>
                    </div>

                    <div style="background: rgba(233, 171, 33, 0.1); padding: 12px; border-radius: 8px; border-left: 4px solid var(--uide-accent);">
                        <p style="font-size: 0.85rem; margin: 0 0 5px 0;">
                            <i class="fas fa-balance-scale"></i> <strong>Uniformidad:</strong> Todos los valores tienen igual probabilidad
                        </p>
                        <p style="font-size: 0.8rem; color: #cbd5e1; margin: 0;">
                            P(0.1) = P(0.5) = P(0.9) = constante
                        </p>
                    </div>
                </div>

                <!-- Columna Derecha: Implementaci√≥n -->
                <div style="display: flex; flex-direction: column; gap: 12px; overflow-y: auto;">
                    <div style="background: rgba(35, 53, 110, 0.3); padding: 15px; border-radius: 10px; border: 2px solid rgba(74, 222, 128, 0.3);">
                        <h3 style="font-size: 1.1rem; margin: 0 0 10px 0; color: #4ade80; text-align: center;">
                            üìä Implementaci√≥n en Excel
                        </h3>
                        <div style="background: rgba(0,0,0,0.4); padding: 12px; border-radius: 8px;">
                            <p style="font-size: 0.8rem; margin: 0 0 8px 0; color: #e2e8f0;">Funci√≥n para generar n√∫meros U(0,1):</p>
                            <code style="display: block; background: rgba(0,0,0,0.5); padding: 10px; border-radius: 6px; font-size: 0.95rem; color: #4ade80; font-family: 'Courier New', monospace; margin-bottom: 6px;">=RAND()</code>
                            <code style="display: block; background: rgba(0,0,0,0.4); padding: 8px; border-radius: 6px; font-size: 0.85rem; color: #cbd5e1; font-family: 'Courier New', monospace; font-style: italic;">=ALEATORIO()</code>
                            <p style="font-size: 0.75rem; color: #94a3b8; margin: 8px 0 0 0; font-style: italic;">
                                Genera un n√∫mero aleatorio entre 0 y 1
                            </p>
                        </div>
                    </div>

                    <div style="background: rgba(35, 53, 110, 0.3); padding: 15px; border-radius: 10px; border: 2px solid rgba(96, 165, 250, 0.3);">
                        <h3 style="font-size: 1.1rem; margin: 0 0 10px 0; color: #60a5fa; text-align: center;">
                            üìà Implementaci√≥n en R
                        </h3>
                        <div style="background: rgba(0,0,0,0.4); padding: 12px; border-radius: 8px;">
                            <p style="font-size: 0.8rem; margin: 0 0 8px 0; color: #e2e8f0;">Funci√≥n para generar n n√∫meros U(0,1):</p>
                            <code style="display: block; background: rgba(0,0,0,0.5); padding: 10px; border-radius: 6px; font-size: 0.85rem; color: #60a5fa; font-family: 'Courier New', monospace; line-height: 1.5; white-space: pre;"># Generar 100 n√∫meros uniformes
numeros <- runif(100)

# Ver los primeros 5
head(numeros, 5)</code>
                            <p style="font-size: 0.75rem; color: #94a3b8; margin: 8px 0 0 0; font-style: italic;">
                                runif(n) genera n n√∫meros aleatorios U(0,1)
                            </p>
                        </div>
                    </div>

                    <div style="background: rgba(145, 0, 72, 0.1); padding: 12px; border-radius: 8px; border: 2px solid var(--uide-primary);">
                        <h4 style="font-size: 0.95rem; margin: 0 0 8px 0; color: var(--uide-primary); text-align: center;">
                            <i class="fas fa-lightbulb"></i> Concepto Clave
                        </h4>
                        <p style="margin: 0; font-size: 0.8rem; line-height: 1.5; color: #e2e8f0; text-align: center;">
                            La uniformidad garantiza que <strong>no hay sesgo</strong> en la generaci√≥n de n√∫meros aleatorios
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 5.2: Demostraci√≥n Visual - Histograma de Uniformidad -->
        <div class="slide">
            <h2 style="margin-bottom: 0.5rem;"><i class="fas fa-chart-bar"></i> Demostraci√≥n: Visualizaci√≥n de la Uniformidad</h2>
            <div style="background: rgba(233, 171, 33, 0.15); padding: 8px 15px; border-radius: 6px; margin-bottom: 10px; border-left: 4px solid var(--uide-accent);">
                <p style="margin: 0; font-size: 0.85rem; color: #e2e8f0;">
                    <i class="fas fa-university"></i> <strong>Experimento:</strong> Generamos m√∫ltiples tiempos entre llegadas y verificamos que se distribuyen uniformemente
                </p>
            </div>

            <div style="background: rgba(15, 20, 25, 0.6); border-radius: 10px; border: 2px solid var(--uide-accent); padding: 15px; margin: 0 15px; height: calc(100vh - 220px); max-height: 580px;">
                <div style="display: grid; grid-template-columns: 28% 72%; gap: 15px; height: 100%;">
                    <!-- Panel de Control -->
                    <div style="display: flex; flex-direction: column; gap: 10px; overflow-y: auto;">
                        <div style="background: rgba(35, 53, 110, 0.3); padding: 12px; border-radius: 8px; border: 2px solid var(--uide-accent);">
                            <h3 style="font-size: 0.95rem; margin: 0 0 10px 0; color: var(--uide-accent); text-align: center;">
                                <i class="fas fa-sliders-h"></i> Controles
                            </h3>
                            <div style="text-align: center; margin-bottom: 10px;">
                                <label style="color: #e2e8f0; font-size: 0.85rem; font-weight: 600; display: block; margin-bottom: 6px;">Cantidad:</label>
                                <input type="number" id="uniformCount" value="100" min="50" max="1000" step="50"
                                       style="width: 100%; padding: 8px; background: rgba(255,255,255,0.1); border: 2px solid var(--uide-accent); color: white; border-radius: 6px; font-size: 0.9rem; font-weight: 600; text-align: center;">
                            </div>
                            <button id="generateUniformBtn" style="padding: 10px 15px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 6px; font-weight: 700; font-size: 0.9rem; cursor: pointer; transition: all 0.3s; width: 100%; box-shadow: 0 4px 6px rgba(0,0,0,0.3);">
                                <i class="fas fa-play"></i> Generar
                            </button>
                        </div>

                        <!-- Estad√≠sticas -->
                        <div style="background: rgba(35, 53, 110, 0.3); padding: 12px; border-radius: 8px; border: 2px solid rgba(74, 222, 128, 0.3);">
                            <h3 style="font-size: 0.95rem; margin: 0 0 10px 0; color: #4ade80; text-align: center;">
                                <i class="fas fa-chart-line"></i> Estad√≠sticas
                            </h3>
                            <div style="display: flex; flex-direction: column; gap: 8px;">
                                <div style="background: rgba(0,0,0,0.3); padding: 8px; border-radius: 6px; text-align: center;">
                                    <div style="font-size: 0.75rem; color: #94a3b8; margin-bottom: 3px;">Promedio</div>
                                    <div id="uniformMean" style="font-size: 1.1rem; font-weight: 700; color: var(--uide-accent);">-</div>
                                    <div style="font-size: 0.7rem; color: #64748b; margin-top: 2px;">Esp: 0.5000</div>
                                </div>
                                <div style="background: rgba(0,0,0,0.3); padding: 8px; border-radius: 6px; text-align: center;">
                                    <div style="font-size: 0.75rem; color: #94a3b8; margin-bottom: 3px;">Varianza</div>
                                    <div id="uniformVariance" style="font-size: 1.1rem; font-weight: 700; color: var(--uide-accent);">-</div>
                                    <div style="font-size: 0.7rem; color: #64748b; margin-top: 2px;">Esp: 0.0833</div>
                                </div>
                                <div style="background: rgba(0,0,0,0.3); padding: 8px; border-radius: 6px; text-align: center;">
                                    <div style="font-size: 0.75rem; color: #94a3b8; margin-bottom: 3px;">Clientes</div>
                                    <div id="uniformCount2" style="font-size: 1.1rem; font-weight: 700; color: var(--uide-accent);">0</div>
                                </div>
                            </div>
                        </div>

                        <div style="background: rgba(233, 171, 33, 0.1); padding: 10px; border-radius: 6px; border-left: 4px solid var(--uide-accent);">
                            <p style="margin: 0; font-size: 0.75rem; line-height: 1.4; color: #e2e8f0;">
                                <i class="fas fa-info-circle"></i> <strong>Observa:</strong> Las barras deben tener alturas similares.
                            </p>
                        </div>
                    </div>

                    <!-- Histograma -->
                    <div style="background: rgba(0,0,0,0.3); border-radius: 8px; padding: 15px; border: 2px solid rgba(233, 171, 33, 0.3); display: flex; flex-direction: column; height: 100%;">
                        <h3 style="text-align: center; color: var(--uide-accent); margin: 0 0 8px 0; font-size: 1.1rem;">
                            <i class="fas fa-chart-bar"></i> Histograma de Distribuci√≥n
                        </h3>
                        <p style="text-align: center; font-size: 0.75rem; color: #94a3b8; margin: 0 0 10px 0; font-style: italic;">
                            Tiempos entre llegadas distribuidos uniformemente
                        </p>
                        
                        <div style="position: relative; background: rgba(0,0,0,0.4); border-radius: 6px; padding: 10px; flex: 1; min-height: 0;">
                            <canvas id="uniformHistogram"></canvas>
                        </div>

                        <div style="margin-top: 10px; text-align: center; font-size: 0.75rem; color: #cbd5e1;">
                            <span style="color: #f472b6;">‚îÅ‚îÅ‚îÅ</span> Frecuencia esperada
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>
        // Simulaci√≥n de Uniformidad con Histograma
        document.addEventListener('DOMContentLoaded', function() {
            const generateUniformBtn = document.getElementById('generateUniformBtn');
            
            if (generateUniformBtn) {
                generateUniformBtn.addEventListener('click', function() {
                    const count = parseInt(document.getElementById('uniformCount').value) || 100;
                    generateUniformDistribution(count);
                });
            }
        });

        function generateUniformDistribution(count) {
            // Generar n√∫meros uniformes usando GCL
            const a = 1103515245;
            const c = 12345;
            const m = Math.pow(2, 31);
            let x = Date.now() % m; // Semilla basada en tiempo
            
            const numbers = [];
            for (let i = 0; i < count; i++) {
                x = (a * x + c) % m;
                numbers.push(x / m);
            }

            // Calcular estad√≠sticas
            const mean = numbers.reduce((a, b) => a + b, 0) / numbers.length;
            const variance = numbers.reduce((sum, num) => sum + Math.pow(num - mean, 2), 0) / numbers.length;

            // Actualizar estad√≠sticas
            document.getElementById('uniformMean').textContent = mean.toFixed(4);
            document.getElementById('uniformVariance').textContent = variance.toFixed(4);
            document.getElementById('uniformCount2').textContent = count;

            // Crear histograma
            drawHistogram(numbers);
        }

        function drawHistogram(numbers) {
            const canvas = document.getElementById('uniformHistogram');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const rect = canvas.parentElement.getBoundingClientRect();
            
            // Soporte para alta resoluci√≥n (4K)
            const dpr = window.devicePixelRatio || 1;
            const width = rect.width - 20;
            const height = rect.height - 20;
            
            canvas.width = width * dpr;
            canvas.height = height * dpr;
            canvas.style.width = width + 'px';
            canvas.style.height = height + 'px';
            ctx.scale(dpr, dpr);

            const bins = 10;
            const binCounts = new Array(bins).fill(0);
            
            // Contar frecuencias
            numbers.forEach(num => {
                const binIndex = Math.min(Math.floor(num * bins), bins - 1);
                binCounts[binIndex]++;
            });

            const maxCount = Math.max(...binCounts);
            const barWidth = width / bins;
            const heightScale = (height - 40) / maxCount;

            // Limpiar canvas
            ctx.clearRect(0, 0, width, height);

            // Dibujar barras con animaci√≥n
            binCounts.forEach((count, i) => {
                const barHeight = count * heightScale;
                const x = i * barWidth;
                const y = height - barHeight - 20;

                // Barra
                ctx.fillStyle = 'rgba(233, 171, 33, 0.7)';
                ctx.fillRect(x + 2, y, barWidth - 4, barHeight);

                // Borde
                ctx.strokeStyle = 'rgba(233, 171, 33, 1)';
                ctx.lineWidth = 1;
                ctx.strokeRect(x + 2, y, barWidth - 4, barHeight);

                // Etiqueta de frecuencia
                ctx.fillStyle = '#ffffff';
                ctx.font = '10px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(count, x + barWidth / 2, y - 5);

                // Etiqueta del bin
                ctx.fillStyle = '#94a3b8';
                ctx.font = '9px Arial';
                const binLabel = ((i / bins).toFixed(1));
                ctx.fillText(binLabel, x + barWidth / 2, height - 5);
            });

            // L√≠nea de referencia (frecuencia esperada)
            const expectedFreq = numbers.length / bins;
            const expectedY = height - (expectedFreq * heightScale) - 20;
            ctx.strokeStyle = '#f472b6';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(0, expectedY);
            ctx.lineTo(width, expectedY);
            ctx.stroke();
            ctx.setLineDash([]);

            // Leyenda
            ctx.fillStyle = '#f472b6';
            ctx.font = '10px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('Frecuencia esperada', 10, 15);
        }
        </script>

        <!-- Slide 6.1: Propiedad 2 - Independencia - Conceptos -->
        <div class="slide">
            <h2 style="margin-bottom: 0.4rem;"><i class="fas fa-link"></i> Propiedad 2: Independencia</h2>
            <div style="background: rgba(233, 171, 33, 0.15); padding: 6px 12px; border-radius: 6px; margin-bottom: 8px; border-left: 4px solid var(--uide-accent);">
                <p style="margin: 0; font-size: 0.8rem; color: #e2e8f0;">
                    <i class="fas fa-university"></i> <strong>Caso:</strong> La llegada de un cliente no afecta cu√°ndo llegar√° el siguiente
                </p>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding: 0 12px; height: calc(100vh - 190px); max-height: 610px;">
                <!-- Columna Izquierda: Teor√≠a -->
                <div style="display: flex; flex-direction: column; gap: 12px; overflow-y: auto;">
                    <div style="background: rgba(35, 53, 110, 0.3); padding: 12px; border-radius: 8px; border: 2px solid var(--uide-primary);">
                        <h3 style="font-size: 1rem; margin: 0 0 10px 0; color: var(--uide-primary);">
                            <i class="fas fa-info-circle"></i> Independencia Estad√≠stica
                        </h3>
                        <ul style="font-size: 0.85rem; line-height: 1.5; margin: 0; padding-left: 18px;">
                            <li><span class="emphasis">Sin correlaci√≥n</span>: No debe existir relaci√≥n entre n√∫meros consecutivos</li>
                            <li style="margin-top: 6px;"><span class="emphasis">Dispersi√≥n uniforme</span>: Valores distribuidos uniformemente</li>
                        </ul>
                    </div>
                    
                    <div style="background: rgba(35, 53, 110, 0.3); padding: 12px; border-radius: 8px; border: 2px solid rgba(74, 222, 128, 0.3);">
                        <h3 style="font-size: 1rem; margin: 0 0 10px 0; color: #4ade80;">
                            <i class="fas fa-check-circle"></i> Requisitos
                        </h3>
                        <ul style="font-size: 0.8rem; line-height: 1.5; margin: 0; padding-left: 18px;">
                            <li>
                                <strong>Periodo grande</strong>: Ciclo extenso
                                <div style="font-size: 0.7rem; color: #cbd5e1; margin-left: 8px; margin-top: 3px; line-height: 1.3;">
                                    Ej: periodo = 1000 ‚Üí 1000 n√∫meros √∫nicos antes de repetir
                                </div>
                            </li>
                            <li style="margin-top: 6px;"><strong>Reproducibilidad</strong>: Mismas condiciones ‚Üí misma secuencia</li>
                            <li style="margin-top: 6px;"><strong>Validaci√≥n</strong>: Pruebas de correlaci√≥n</li>
                        </ul>
                    </div>

                    <div style="background: rgba(145, 0, 72, 0.1); padding: 10px; border-radius: 6px; border-left: 4px solid var(--uide-primary);">
                        <p style="font-size: 0.8rem; margin: 0;">
                            <i class="fas fa-exclamation-triangle"></i> <strong>Importante:</strong> Evita patrones predecibles
                        </p>
                    </div>
                </div>

                <!-- Columna Derecha: Implementaci√≥n -->
                <div style="display: flex; flex-direction: column; gap: 12px; overflow-y: auto;">
                    <div style="background: rgba(35, 53, 110, 0.3); padding: 12px; border-radius: 8px; border: 2px solid rgba(74, 222, 128, 0.3);">
                        <h3 style="font-size: 1rem; margin: 0 0 10px 0; color: #4ade80; text-align: center;">
                            üìä Implementaci√≥n en Excel
                        </h3>
                        <div style="background: rgba(0,0,0,0.4); padding: 10px; border-radius: 6px;">
                            <p style="font-size: 0.75rem; margin: 0 0 6px 0; color: #e2e8f0;">Funci√≥n de correlaci√≥n:</p>
                            <code style="display: block; background: rgba(0,0,0,0.5); padding: 8px; border-radius: 4px; font-size: 0.8rem; color: #4ade80; font-family: 'Courier New', monospace; margin-bottom: 4px;">=CORREL(A:A, B:B)</code>
                            <code style="display: block; background: rgba(0,0,0,0.4); padding: 6px; border-radius: 4px; font-size: 0.75rem; color: #cbd5e1; font-family: 'Courier New', monospace; font-style: italic;">=COEF.DE.CORREL(A:A, B:B)</code>
                            <p style="font-size: 0.7rem; color: #94a3b8; margin: 6px 0 0 0; font-style: italic;">
                                Calcula correlaci√≥n entre dos columnas
                            </p>
                        </div>
                    </div>

                    <div style="background: rgba(35, 53, 110, 0.3); padding: 12px; border-radius: 8px; border: 2px solid rgba(96, 165, 250, 0.3);">
                        <h3 style="font-size: 1rem; margin: 0 0 10px 0; color: #60a5fa; text-align: center;">
                            üìà Implementaci√≥n en R
                        </h3>
                        <div style="background: rgba(0,0,0,0.4); padding: 10px; border-radius: 6px;">
                            <p style="font-size: 0.75rem; margin: 0 0 6px 0; color: #e2e8f0;">Funci√≥n de correlaci√≥n:</p>
                            <code style="display: block; background: rgba(0,0,0,0.5); padding: 8px; border-radius: 4px; font-size: 0.75rem; color: #60a5fa; font-family: 'Courier New', monospace; line-height: 1.4; white-space: pre;"># Correlaci√≥n Xi y Xi+1
x <- numeros[1:(length(numeros)-1)]
y <- numeros[2:length(numeros)]
cor(x, y)</code>
                            <p style="font-size: 0.7rem; color: #94a3b8; margin: 6px 0 0 0; font-style: italic;">
                                Correlaci√≥n entre pares consecutivos
                            </p>
                        </div>
                    </div>

                    <div style="background: rgba(233, 171, 33, 0.1); padding: 10px; border-radius: 6px; border-left: 4px solid var(--uide-accent);">
                        <h4 style="font-size: 0.9rem; margin: 0 0 6px 0; color: var(--uide-accent);">
                            <i class="fas fa-lightbulb"></i> Interpretaci√≥n
                        </h4>
                        <ul style="font-size: 0.75rem; line-height: 1.4; margin: 0; padding-left: 18px; color: #e2e8f0;">
                            <li>Correlaci√≥n ‚âà 0: <strong style="color: #4ade80;">Independientes</strong></li>
                            <li>Correlaci√≥n ‚âà 1: <strong style="color: #f87171;">Dependencia positiva</strong></li>
                            <li>Correlaci√≥n ‚âà -1: <strong style="color: #f87171;">Dependencia negativa</strong></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 6.2: Demostraci√≥n Visual - Scatter Plot de Independencia -->
        <div class="slide">
            <h2 style="margin-bottom: 0.5rem;"><i class="fas fa-chart-scatter"></i> Demostraci√≥n: Visualizaci√≥n de Independencia</h2>
            <div style="background: rgba(233, 171, 33, 0.15); padding: 8px 15px; border-radius: 6px; margin-bottom: 10px; border-left: 4px solid var(--uide-accent);">
                <p style="margin: 0; font-size: 0.85rem; color: #e2e8f0;">
                    <i class="fas fa-university"></i> <strong>Experimento:</strong> Graficamos tiempo de llegada actual vs siguiente para verificar independencia
                </p>
            </div>

            <div style="background: rgba(15, 20, 25, 0.6); border-radius: 10px; border: 2px solid var(--uide-primary); padding: 15px; margin: 0 15px; height: calc(100vh - 220px); max-height: 580px;">
                <div style="display: grid; grid-template-columns: 28% 72%; gap: 15px; height: 100%;">
                    <!-- Panel de Control -->
                    <div style="display: flex; flex-direction: column; gap: 10px; overflow-y: auto;">
                        <div style="background: rgba(35, 53, 110, 0.3); padding: 12px; border-radius: 8px; border: 2px solid var(--uide-primary);">
                            <h3 style="font-size: 0.95rem; margin: 0 0 10px 0; color: var(--uide-primary); text-align: center;">
                                <i class="fas fa-sliders-h"></i> Controles
                            </h3>
                            <div style="text-align: center; margin-bottom: 10px;">
                                <label style="color: #e2e8f0; font-size: 0.85rem; font-weight: 600; display: block; margin-bottom: 6px;">Puntos:</label>
                                <input type="number" id="independenceCount" value="200" min="50" max="500" step="50"
                                       style="width: 100%; padding: 8px; background: rgba(255,255,255,0.1); border: 2px solid var(--uide-primary); color: white; border-radius: 6px; font-size: 0.9rem; font-weight: 600; text-align: center;">
                            </div>
                            <button id="generateIndependenceBtn" style="padding: 10px 15px; background: var(--uide-primary); color: white; border: none; border-radius: 6px; font-weight: 700; font-size: 0.9rem; cursor: pointer; transition: all 0.3s; width: 100%; box-shadow: 0 4px 6px rgba(0,0,0,0.3);">
                                <i class="fas fa-play"></i> Generar
                            </button>
                        </div>

                        <!-- Estad√≠sticas -->
                        <div style="background: rgba(35, 53, 110, 0.3); padding: 12px; border-radius: 8px; border: 2px solid rgba(74, 222, 128, 0.3);">
                            <h3 style="font-size: 0.95rem; margin: 0 0 10px 0; color: #4ade80; text-align: center;">
                                <i class="fas fa-chart-line"></i> Correlaci√≥n
                            </h3>
                            <div style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 6px; text-align: center; margin-bottom: 10px;">
                                <div style="font-size: 0.75rem; color: #94a3b8; margin-bottom: 5px;">Coeficiente</div>
                                <div id="correlationCoef" style="font-size: 1.3rem; font-weight: 700; color: var(--uide-primary);">-</div>
                                <div style="font-size: 0.7rem; color: #64748b; margin-top: 3px;">Ideal: ‚âà 0</div>
                            </div>
                            <div style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 6px; text-align: center;">
                                <div style="font-size: 0.75rem; color: #94a3b8; margin-bottom: 5px;">Evaluaci√≥n</div>
                                <div id="correlationStatus" style="font-size: 0.85rem; font-weight: 600; color: var(--uide-accent);">-</div>
                            </div>
                        </div>

                        <div style="background: rgba(233, 171, 33, 0.1); padding: 10px; border-radius: 6px; border-left: 4px solid var(--uide-accent);">
                            <p style="margin: 0; font-size: 0.75rem; line-height: 1.4; color: #e2e8f0;">
                                <i class="fas fa-info-circle"></i> <strong>Observa:</strong> Sin patr√≥n visible = independencia
                            </p>
                        </div>
                    </div>

                    <!-- Scatter Plot -->
                    <div style="background: rgba(0,0,0,0.3); border-radius: 8px; padding: 15px; border: 2px solid rgba(145, 0, 72, 0.3); display: flex; flex-direction: column; height: 100%; overflow: hidden;">
                        <h3 style="text-align: center; color: var(--uide-primary); margin: 0 0 8px 0; font-size: 1.1rem; flex-shrink: 0;">
                            <i class="fas fa-chart-scatter"></i> Gr√°fico de Dispersi√≥n: X<sub>i</sub> vs X<sub>i+1</sub>
                        </h3>
                        <p style="text-align: center; font-size: 0.75rem; color: #94a3b8; margin: 0 0 10px 0; font-style: italic; flex-shrink: 0;">
                            Tiempo de llegada actual vs siguiente
                        </p>
                        
                        <div style="position: relative; background: rgba(0,0,0,0.4); border-radius: 6px; padding: 10px; flex: 1; min-height: 0; overflow: hidden;">
                            <canvas id="independenceScatter" style="max-width: 100%; max-height: 100%;"></canvas>
                        </div>

                        <div style="margin-top: 10px; text-align: center; font-size: 0.75rem; color: #cbd5e1; flex-shrink: 0;">
                            Sin patr√≥n visible = n√∫meros independientes
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>
        // Simulaci√≥n de Independencia con Scatter Plot
        document.addEventListener('DOMContentLoaded', function() {
            const generateIndependenceBtn = document.getElementById('generateIndependenceBtn');
            
            if (generateIndependenceBtn) {
                generateIndependenceBtn.addEventListener('click', function() {
                    const count = parseInt(document.getElementById('independenceCount').value) || 200;
                    generateIndependencePlot(count);
                });
            }
        });

        function generateIndependencePlot(count) {
            // Generar n√∫meros uniformes usando GCL
            const a = 1103515245;
            const c = 12345;
            const m = Math.pow(2, 31);
            let x = Date.now() % m;
            
            const numbers = [];
            for (let i = 0; i < count + 1; i++) {
                x = (a * x + c) % m;
                numbers.push(x / m);
            }

            // Crear pares (Xi, Xi+1)
            const pairs = [];
            for (let i = 0; i < numbers.length - 1; i++) {
                pairs.push({ x: numbers[i], y: numbers[i + 1] });
            }

            // Calcular correlaci√≥n
            const correlation = calculateCorrelation(pairs);
            
            // Actualizar estad√≠sticas
            document.getElementById('correlationCoef').textContent = correlation.toFixed(4);
            
            const absCorr = Math.abs(correlation);
            let status = '';
            if (absCorr < 0.1) {
                status = '‚úì Excelente independencia';
            } else if (absCorr < 0.3) {
                status = '‚úì Buena independencia';
            } else if (absCorr < 0.5) {
                status = '‚ö† Correlaci√≥n moderada';
            } else {
                status = '‚úó Alta correlaci√≥n';
            }
            document.getElementById('correlationStatus').textContent = status;

            // Dibujar scatter plot
            drawScatterPlot(pairs);
        }

        function calculateCorrelation(pairs) {
            const n = pairs.length;
            const meanX = pairs.reduce((sum, p) => sum + p.x, 0) / n;
            const meanY = pairs.reduce((sum, p) => sum + p.y, 0) / n;
            
            let numerator = 0;
            let denomX = 0;
            let denomY = 0;
            
            pairs.forEach(p => {
                const dx = p.x - meanX;
                const dy = p.y - meanY;
                numerator += dx * dy;
                denomX += dx * dx;
                denomY += dy * dy;
            });
            
            return numerator / Math.sqrt(denomX * denomY);
        }

        function drawScatterPlot(pairs) {
            const canvas = document.getElementById('independenceScatter');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const container = canvas.parentElement;
            const rect = container.getBoundingClientRect();
            
            // Soporte para alta resoluci√≥n (4K)
            const dpr = window.devicePixelRatio || 1;
            // Usar el tama√±o del contenedor directamente
            const width = Math.min(rect.width - 20, container.clientWidth - 20);
            const height = Math.min(rect.height - 20, container.clientHeight - 20);
            
            // Resetear el canvas antes de redimensionar
            canvas.width = width * dpr;
            canvas.height = height * dpr;
            canvas.style.width = width + 'px';
            canvas.style.height = height + 'px';
            canvas.style.display = 'block';
            ctx.scale(dpr, dpr);

            // Limpiar canvas
            ctx.clearRect(0, 0, width, height);

            const padding = 40;
            const plotWidth = width - 2 * padding;
            const plotHeight = height - 2 * padding;

            // Dibujar ejes
            ctx.strokeStyle = '#64748b';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(padding, padding);
            ctx.lineTo(padding, height - padding);
            ctx.lineTo(width - padding, height - padding);
            ctx.stroke();

            // Etiquetas de ejes
            ctx.fillStyle = '#94a3b8';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('X_i', width / 2, height - 10);
            
            ctx.save();
            ctx.translate(15, height / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('X_{i+1}', 0, 0);
            ctx.restore();

            // Dibujar puntos
            pairs.forEach((pair, index) => {
                const px = padding + pair.x * plotWidth;
                const py = height - padding - pair.y * plotHeight;
                
                ctx.fillStyle = 'rgba(145, 0, 72, 0.6)';
                ctx.beginPath();
                ctx.arc(px, py, 2.5, 0, 2 * Math.PI);
                ctx.fill();
            });

            // Dibujar l√≠neas de referencia (grid)
            ctx.strokeStyle = 'rgba(100, 116, 139, 0.2)';
            ctx.lineWidth = 1;
            for (let i = 0; i <= 4; i++) {
                const pos = padding + (i / 4) * plotWidth;
                ctx.beginPath();
                ctx.moveTo(pos, padding);
                ctx.lineTo(pos, height - padding);
                ctx.stroke();
                
                ctx.beginPath();
                ctx.moveTo(padding, padding + (i / 4) * plotHeight);
                ctx.lineTo(width - padding, padding + (i / 4) * plotHeight);
                ctx.stroke();
            }
        }
        </script>

        <!-- Slide 7.1: GCL Mixto - Definici√≥n y F√≥rmula -->
        <div class="slide">
            <h2><i class="fas fa-cogs"></i> Generador Congruencial Lineal (GCL) Mixto</h2>
            <div style="background: rgba(233, 171, 33, 0.15); padding: 10px 20px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid var(--uide-accent);">
                <p style="margin: 0; font-size: 1rem; color: #e2e8f0;">
                    <i class="fas fa-university"></i> <strong>Caso:</strong> Algoritmo que genera los tiempos aleatorios de llegada al banco
                </p>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px; padding: 0 20px;">
                <!-- Columna Izquierda: F√≥rmula -->
                <div style="display: flex; flex-direction: column; gap: 20px;">
                    <div style="background: rgba(35, 53, 110, 0.3); padding: 20px; border-radius: 12px; border: 2px solid var(--uide-accent);">
                        <h3 style="font-size: 1.3rem; margin: 0 0 15px 0; color: var(--uide-accent);">
                            <i class="fas fa-function"></i> F√≥rmula Recursiva
                        </h3>
                        <div class="code-block" style="font-size: 1.3rem; padding: 20px; margin-bottom: 15px; text-align: center;">X<sub>i+1</sub> = (a ¬∑ X<sub>i</sub> + c) mod m</div>
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 8px; font-size: 0.95rem; color: #cbd5e1; line-height: 1.7;">
                            <p style="margin: 0 0 10px 0;"><strong style="color: #4ade80;">¬øC√≥mo funciona?</strong></p>
                            <p style="margin: 0 0 8px 0;">1. Multiplica el n√∫mero anterior por <strong>a</strong></p>
                            <p style="margin: 0 0 8px 0;">2. Suma el incremento <strong>c</strong></p>
                            <p style="margin: 0;">3. Aplica m√≥dulo <strong>m</strong> (resto de divisi√≥n)</p>
                        </div>
                    </div>

                    <div style="background: rgba(35, 53, 110, 0.3); padding: 20px; border-radius: 12px; border: 2px solid var(--uide-primary);">
                        <h3 style="font-size: 1.2rem; margin: 0 0 15px 0; color: var(--uide-primary); text-align: center;">Tipos de GCL</h3>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div style="background: rgba(233, 171, 33, 0.2); padding: 15px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 1.1rem; font-weight: 600; color: var(--uide-accent); margin-bottom: 8px;">Mixto</div>
                                <div style="font-size: 0.95rem; color: #cbd5e1;">c ‚â† 0</div>
                            </div>
                            <div style="background: rgba(145, 0, 72, 0.2); padding: 15px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 1.1rem; font-weight: 600; color: var(--uide-primary); margin-bottom: 8px;">Multiplicativo</div>
                                <div style="font-size: 0.95rem; color: #cbd5e1;">c = 0</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Columna Derecha: Aplicaci√≥n -->
                <div style="display: flex; flex-direction: column; gap: 20px;">
                    <div style="background: rgba(233, 171, 33, 0.1); padding: 20px; border-radius: 12px; border-left: 4px solid var(--uide-accent);">
                        <p style="font-size: 1.1rem; margin: 0 0 15px 0; font-weight: 600;">
                            <i class="fas fa-university"></i> <strong>Aplicaci√≥n al Banco:</strong>
                        </p>
                        <div class="code-block" style="font-size: 1.2rem; padding: 15px; margin-bottom: 15px; text-align: center;">U<sub>i</sub> = X<sub>i</sub> / m</div>
                        <div style="font-size: 0.95rem; color: #cbd5e1; background: rgba(0,0,0,0.3); padding: 15px; border-radius: 8px; line-height: 1.7;">
                            <strong>Ejemplo:</strong> X<sub>1</sub>=8, m=16 ‚Üí U<sub>1</sub>=0.5<br>
                            <span style="color: #4ade80;">Tiempo: U<sub>1</sub> √ó Œª = 0.5 √ó 10 = 5 min</span><br>
                            <span style="font-size: 0.85rem; color: #94a3b8;">(Œª = tiempo m√°ximo entre llegadas)</span>
                        </div>
                    </div>

                    <div style="background: rgba(35, 53, 110, 0.3); padding: 20px; border-radius: 12px; border: 2px solid rgba(74, 222, 128, 0.3);">
                        <h3 style="font-size: 1.2rem; margin: 0 0 15px 0; color: #4ade80;">
                            <i class="fas fa-list-ol"></i> Par√°metros
                        </h3>
                        <div style="font-size: 0.95rem; line-height: 1.8;">
                            <div style="background: rgba(0,0,0,0.3); padding: 12px; border-radius: 8px; margin-bottom: 10px;">
                                <strong style="color: var(--uide-accent);">X‚ÇÄ (semilla):</strong> valor inicial
                            </div>
                            <div style="background: rgba(0,0,0,0.3); padding: 12px; border-radius: 8px; margin-bottom: 10px;">
                                <strong style="color: var(--uide-accent);">a (multiplicador):</strong> dispersi√≥n
                            </div>
                            <div style="background: rgba(0,0,0,0.3); padding: 12px; border-radius: 8px; margin-bottom: 10px;">
                                <strong style="color: var(--uide-accent);">c (incremento):</strong> desplazamiento
                            </div>
                            <div style="background: rgba(0,0,0,0.3); padding: 12px; border-radius: 8px;">
                                <strong style="color: var(--uide-accent);">m (m√≥dulo):</strong> rango [0, m-1]
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 7.2: GCL Mixto - Calculadora Interactiva -->
        <div class="slide">
            <h2 style="margin-bottom: 0.4rem;"><i class="fas fa-calculator"></i> GCL Mixto: Calculadora Paso a Paso</h2>
            <div style="background: rgba(233, 171, 33, 0.15); padding: 6px 12px; border-radius: 6px; margin-bottom: 8px; border-left: 4px solid var(--uide-accent);">
                <p style="margin: 0; font-size: 0.8rem; color: #e2e8f0;">
                    <i class="fas fa-university"></i> <strong>Experimento:</strong> Genera la secuencia de tiempos entre llegadas al banco paso a paso
                </p>
            </div>

            <div style="display: grid; grid-template-columns: 58% 42%; gap: 15px; padding: 0 12px; height: calc(100vh - 190px); max-height: 610px;">
                <!-- Calculadora Interactiva -->
                <div style="background: rgba(15, 20, 25, 0.6); border-radius: 10px; border: 2px solid var(--uide-accent); padding: 15px; display: flex; flex-direction: column; height: 100%; overflow: hidden;">
                    <h3 style="text-align: center; color: var(--uide-accent); margin: 0 0 10px 0; font-size: 1rem; flex-shrink: 0;">
                        <i class="fas fa-cogs"></i> Generador Interactivo
                    </h3>
                    
                    <!-- Controles de par√°metros -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 10px; flex-shrink: 0;">
                        <div>
                            <label style="font-size: 0.75rem; color: #e2e8f0; display: block; margin-bottom: 4px; font-weight: 600;">
                                Semilla (X‚ÇÄ):
                            </label>
                            <input type="number" id="gclSeed" value="7" min="0" max="100"
                                   style="width: 100%; padding: 6px; background: rgba(255,255,255,0.1); border: 2px solid var(--uide-accent); color: white; border-radius: 4px; font-size: 0.85rem; text-align: center; font-weight: 600;">
                        </div>
                        <div>
                            <label style="font-size: 0.75rem; color: #e2e8f0; display: block; margin-bottom: 4px; font-weight: 600;">
                                Multiplicador (a):
                            </label>
                            <input type="number" id="gclA" value="5" min="1" max="100"
                                   style="width: 100%; padding: 6px; background: rgba(255,255,255,0.1); border: 2px solid var(--uide-accent); color: white; border-radius: 4px; font-size: 0.85rem; text-align: center; font-weight: 600;">
                        </div>
                        <div>
                            <label style="font-size: 0.75rem; color: #e2e8f0; display: block; margin-bottom: 4px; font-weight: 600;">
                                Incremento (c):
                            </label>
                            <input type="number" id="gclC" value="3" min="0" max="100"
                                   style="width: 100%; padding: 6px; background: rgba(255,255,255,0.1); border: 2px solid var(--uide-accent); color: white; border-radius: 4px; font-size: 0.85rem; text-align: center; font-weight: 600;">
                        </div>
                        <div>
                            <label style="font-size: 0.75rem; color: #e2e8f0; display: block; margin-bottom: 4px; font-weight: 600;">
                                M√≥dulo (m):
                            </label>
                            <input type="number" id="gclM" value="16" min="2" max="1000"
                                   style="width: 100%; padding: 6px; background: rgba(255,255,255,0.1); border: 2px solid var(--uide-accent); color: white; border-radius: 4px; font-size: 0.85rem; text-align: center; font-weight: 600;">
                        </div>
                    </div>

                    <button id="generateGCLBtn" style="padding: 8px 16px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 6px; font-weight: 700; font-size: 0.9rem; cursor: pointer; transition: all 0.3s; margin-bottom: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.3); flex-shrink: 0;">
                        <i class="fas fa-play"></i> Generar Secuencia
                    </button>

                    <!-- √Årea de visualizaci√≥n de pasos -->
                    <div id="gclStepsContainer" style="flex: 1; background: rgba(0,0,0,0.4); border-radius: 6px; padding: 10px; overflow-y: auto; overflow-x: hidden; scrollbar-width: thin; scrollbar-color: rgba(233, 171, 33, 0.5) rgba(0, 0, 0, 0.3); min-height: 0;">
                        <div id="gclSteps" style="font-family: 'Courier New', monospace; font-size: 0.75rem; color: #4ade80; line-height: 1.5;">
                            <div style="color: #94a3b8; font-style: italic; text-align: center; font-size: 0.7rem;">Configura los par√°metros y presiona "Generar Secuencia"...</div>
                        </div>
                    </div>
                    
                    <style>
                        #gclStepsContainer::-webkit-scrollbar {
                            width: 6px;
                        }
                        
                        #gclStepsContainer::-webkit-scrollbar-track {
                            background: rgba(0, 0, 0, 0.3);
                            border-radius: 3px;
                        }
                        
                        #gclStepsContainer::-webkit-scrollbar-thumb {
                            background: rgba(233, 171, 33, 0.5);
                            border-radius: 3px;
                        }
                        
                        #gclStepsContainer::-webkit-scrollbar-thumb:hover {
                            background: rgba(233, 171, 33, 0.8);
                        }
                    </style>

                    <!-- Resumen de la secuencia -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin-top: 10px; flex-shrink: 0;">
                        <div style="background: rgba(35, 53, 110, 0.3); padding: 8px; border-radius: 6px; text-align: center;">
                            <div style="font-size: 0.7rem; color: #94a3b8; margin-bottom: 3px;">N√∫meros</div>
                            <div id="gclCount" style="font-size: 1.1rem; font-weight: 700; color: var(--uide-accent);">0</div>
                        </div>
                        <div style="background: rgba(35, 53, 110, 0.3); padding: 8px; border-radius: 6px; text-align: center;">
                            <div style="font-size: 0.7rem; color: #94a3b8; margin-bottom: 3px;">Periodo</div>
                            <div id="gclPeriod" style="font-size: 1.1rem; font-weight: 700; color: var(--uide-accent);">-</div>
                        </div>
                        <div style="background: rgba(35, 53, 110, 0.3); padding: 8px; border-radius: 6px; text-align: center;">
                            <div style="font-size: 0.7rem; color: #94a3b8; margin-bottom: 3px;">√öltimo U<sub>i</sub></div>
                            <div id="gclLastU" style="font-size: 1.1rem; font-weight: 700; color: var(--uide-accent);">-</div>
                        </div>
                    </div>
                </div>

                <!-- Implementaci√≥n -->
                <div style="display: flex; flex-direction: column; gap: 12px; overflow-y: auto; height: 100%;">
                    <h3 style="font-size: 1rem; margin: 0; text-align: center; color: var(--uide-accent); flex-shrink: 0;">
                        <i class="fas fa-code"></i> Implementaci√≥n
                    </h3>

                    <!-- Excel -->
                    <div style="background: rgba(35, 53, 110, 0.3); padding: 12px; border-radius: 8px; border: 2px solid rgba(74, 222, 128, 0.3);">
                        <h4 style="font-size: 0.9rem; margin: 0 0 8px 0; color: #4ade80; text-align: center;">
                            üìä Excel
                        </h4>
                        <div style="font-size: 0.75rem; color: #cbd5e1; margin-bottom: 6px;">
                            <strong>Generar X<sub>i</sub>:</strong>
                        </div>
                        <code style="display: block; background: rgba(0,0,0,0.5); padding: 6px; border-radius: 4px; font-size: 0.7rem; color: #4ade80; font-family: 'Courier New', monospace; margin-bottom: 3px;">
                            =MOD(a*X_anterior+c, m)
                        </code>
                        <code style="display: block; background: rgba(0,0,0,0.4); padding: 5px; border-radius: 4px; font-size: 0.65rem; color: #cbd5e1; font-family: 'Courier New', monospace; margin-bottom: 8px; font-style: italic;">
                            =RESIDUO(a*X_anterior+c, m)
                        </code>
                        <div style="font-size: 0.75rem; color: #cbd5e1; margin-bottom: 6px;">
                            <strong>Tiempo (min): U √ó Œª</strong>
                        </div>
                        <code style="display: block; background: rgba(0,0,0,0.5); padding: 6px; border-radius: 4px; font-size: 0.7rem; color: #4ade80; font-family: 'Courier New', monospace;">
                            =(X_i/m)*$A$1
                        </code>
                        <div style="font-size: 0.65rem; color: #94a3b8; margin-top: 4px;">
                            A1 = Œª (ej: 10 min m√°x)
                        </div>
                    </div>

                    <!-- R -->
                    <div style="background: rgba(35, 53, 110, 0.3); padding: 12px; border-radius: 8px; border: 2px solid rgba(96, 165, 250, 0.3);">
                        <h4 style="font-size: 0.9rem; margin: 0 0 8px 0; color: #60a5fa; text-align: center;">
                            üìà R
                        </h4>
                        <div style="font-size: 0.75rem; color: #cbd5e1; margin-bottom: 6px;">
                            <strong>Funci√≥n:</strong>
                        </div>
                        <code style="display: block; background: rgba(0,0,0,0.5); padding: 6px; border-radius: 4px; font-size: 0.7rem; color: #60a5fa; font-family: 'Courier New', monospace; line-height: 1.4; margin-bottom: 8px; white-space: pre;">simular_llegadas &lt;- function(n, lambda) {
  u &lt;- lcg(n, 5, 3, 16, 7)
  tiempos &lt;- u * lambda
  return(tiempos)
}</code>
                        <div style="font-size: 0.75rem; color: #cbd5e1; margin-bottom: 6px;">
                            <strong>Uso:</strong>
                        </div>
                        <code style="display: block; background: rgba(0,0,0,0.5); padding: 6px; border-radius: 4px; font-size: 0.7rem; color: #60a5fa; font-family: 'Courier New', monospace; line-height: 1.4;">
                            # 100 llegadas, m√°x 10 min<br>
                            t &lt;- simular_llegadas(100, 10)
                        </code>
                    </div>
                </div>
            </div>
        </div>

        <script>
        // Calculadora GCL Paso a Paso
        document.addEventListener('DOMContentLoaded', function() {
            const generateGCLBtn = document.getElementById('generateGCLBtn');
            
            if (generateGCLBtn) {
                generateGCLBtn.addEventListener('click', function() {
                    const seed = parseInt(document.getElementById('gclSeed').value) || 7;
                    const a = parseInt(document.getElementById('gclA').value) || 5;
                    const c = parseInt(document.getElementById('gclC').value) || 3;
                    const m = parseInt(document.getElementById('gclM').value) || 16;
                    
                    generateGCLSequence(seed, a, c, m);
                });
            }
        });

        function generateGCLSequence(seed, a, c, m) {
            const stepsDiv = document.getElementById('gclSteps');
            stepsDiv.innerHTML = '';
            
            let x = seed;
            const sequence = [x];
            const maxIterations = Math.min(m + 5, 20); // Limitar a 20 iteraciones para visualizaci√≥n
            
            // Encabezado con par√°metros
            let html = `<div style="color: #e2e8f0; margin-bottom: 8px; text-align: center;"><strong>Par√°metros:</strong> a=${a}, c=${c}, m=${m}, X‚ÇÄ=${seed}</div>`;
            
            // Crear tabla
            html += `<table style="width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 10px;">`;
            html += `<thead>`;
            html += `<tr style="background: rgba(233, 171, 33, 0.2); border-bottom: 2px solid rgba(233, 171, 33, 0.5);">`;
            html += `<th style="padding: 6px; text-align: center; color: #fbbf24; border: 1px solid rgba(255,255,255,0.1);">i</th>`;
            html += `<th style="padding: 6px; text-align: center; color: #4ade80; border: 1px solid rgba(255,255,255,0.1);">X<sub>i</sub></th>`;
            html += `<th style="padding: 6px; text-align: center; color: #94a3b8; border: 1px solid rgba(255,255,255,0.1);">a¬∑X<sub>i</sub></th>`;
            html += `<th style="padding: 6px; text-align: center; color: #94a3b8; border: 1px solid rgba(255,255,255,0.1);">+c</th>`;
            html += `<th style="padding: 6px; text-align: center; color: #fbbf24; border: 1px solid rgba(255,255,255,0.1);">X<sub>i+1</sub></th>`;
            html += `<th style="padding: 6px; text-align: center; color: #60a5fa; border: 1px solid rgba(255,255,255,0.1);">U<sub>i+1</sub></th>`;
            html += `</tr>`;
            html += `</thead>`;
            html += `<tbody>`;
            
            let periodDetected = false;
            
            for (let i = 0; i < maxIterations; i++) {
                const product = a * x;
                const sum = product + c;
                const xNext = sum % m;
                const u = (xNext / m).toFixed(4);
                
                // Alternar colores de fila
                const bgColor = i % 2 === 0 ? 'rgba(255,255,255,0.03)' : 'rgba(255,255,255,0.06)';
                
                html += `<tr style="background: ${bgColor}; border-bottom: 1px solid rgba(255,255,255,0.05);">`;
                html += `<td style="padding: 5px; text-align: center; color: #f472b6; border: 1px solid rgba(255,255,255,0.05);">${i}</td>`;
                html += `<td style="padding: 5px; text-align: center; color: #4ade80; font-weight: 600; border: 1px solid rgba(255,255,255,0.05);">${x}</td>`;
                html += `<td style="padding: 5px; text-align: center; color: #94a3b8; border: 1px solid rgba(255,255,255,0.05);">${product}</td>`;
                html += `<td style="padding: 5px; text-align: center; color: #94a3b8; border: 1px solid rgba(255,255,255,0.05);">${sum}</td>`;
                html += `<td style="padding: 5px; text-align: center; color: #fbbf24; font-weight: 600; border: 1px solid rgba(255,255,255,0.05);">${xNext}</td>`;
                html += `<td style="padding: 5px; text-align: center; color: #60a5fa; border: 1px solid rgba(255,255,255,0.05);">${u}</td>`;
                html += `</tr>`;
                
                x = xNext;
                
                // Detectar si se repite (periodo)
                if (sequence.includes(x)) {
                    const periodStart = sequence.indexOf(x);
                    const period = i + 1 - periodStart;
                    
                    html += `</tbody></table>`;
                    html += `<div style="color: #f472b6; margin-top: 10px; padding: 8px; background: rgba(244, 114, 182, 0.1); border-radius: 4px; border-left: 3px solid #f472b6; text-align: center;">`;
                    html += `<strong>‚ü≥ Periodo detectado: ${period}</strong><br>`;
                    html += `<span style="font-size: 0.65rem;">(se repite X<sub>${periodStart}</sub> = ${x})</span>`;
                    html += `</div>`;
                    
                    document.getElementById('gclPeriod').textContent = period;
                    periodDetected = true;
                    break;
                }
                
                sequence.push(x);
            }
            
            if (!periodDetected) {
                html += `</tbody></table>`;
            }
            
            stepsDiv.innerHTML = html;
            
            // Actualizar estad√≠sticas
            document.getElementById('gclCount').textContent = sequence.length;
            document.getElementById('gclLastU').textContent = (x / m).toFixed(4);
            
            if (sequence.length >= maxIterations) {
                document.getElementById('gclPeriod').textContent = `>${maxIterations}`;
            }
            
            // Auto-scroll al final del contenedor
            const container = document.getElementById('gclStepsContainer');
            if (container) {
                setTimeout(() => {
                    container.scrollTop = container.scrollHeight;
                }, 100);
            }
        }
        </script>

        <!-- Slide 7.5: Validaci√≥n de Par√°metros GCL -->
        <div class="slide">
            <h2 style="margin-bottom: 0.3rem;"><i class="fas fa-check-circle"></i> Validaci√≥n de Par√°metros: c y m Coprimos</h2>
            <div style="background: rgba(233, 171, 33, 0.15); padding: 5px 10px; border-radius: 6px; margin-bottom: 6px; border-left: 4px solid var(--uide-accent);">
                <p style="margin: 0; font-size: 0.7rem; color: #e2e8f0;">
                    <i class="fas fa-university"></i> <strong>Caso:</strong> Validar par√°metros del generador para simular el banco
                </p>
            </div>

            <div style="display: grid; grid-template-columns: 40% 60%; gap: 12px; padding: 0 10px; height: calc(100vh - 180px); max-height: 620px;">
                <!-- Columna Izquierda: Teor√≠a -->
                <div style="display: flex; flex-direction: column; gap: 8px; height: 100%;">
                    <div style="background: rgba(35, 53, 110, 0.3); padding: 10px; border-radius: 8px; border: 2px solid var(--uide-accent);">
                        <h3 style="font-size: 0.85rem; margin: 0 0 6px 0; color: var(--uide-accent);">
                            <i class="fas fa-info-circle"></i> ¬øQu√© son coprimos?
                        </h3>
                        <p style="font-size: 0.75rem; line-height: 1.3; margin: 0 0 6px 0; color: #e2e8f0;">
                            Dos n√∫meros son <strong>coprimos</strong> cuando su <strong>MCD es 1</strong>.
                        </p>
                        <div style="background: rgba(233, 171, 33, 0.1); padding: 6px; border-radius: 4px;">
                            <p style="font-size: 0.7rem; margin: 0 0 4px 0; color: #e2e8f0;">
                                <strong>Ejemplos:</strong>
                            </p>
                            <ul style="font-size: 0.65rem; margin: 0; padding-left: 16px; line-height: 1.3; color: #cbd5e1;">
                                <li><strong style="color: #4ade80;">‚úì</strong> c=3, m=16 ‚Üí MCD=1</li>
                                <li><strong style="color: #4ade80;">‚úì</strong> c=7, m=10 ‚Üí MCD=1</li>
                                <li><strong style="color: #f87171;">‚úó</strong> c=6, m=9 ‚Üí MCD=3</li>
                            </ul>
                        </div>
                    </div>

                    <div style="background: rgba(145, 0, 72, 0.2); padding: 10px; border-radius: 8px; border: 2px solid var(--uide-primary);">
                        <h3 style="font-size: 0.85rem; margin: 0 0 6px 0; color: var(--uide-primary);">
                            <i class="fas fa-exclamation-triangle"></i> Importancia
                        </h3>
                        <ul style="font-size: 0.7rem; line-height: 1.4; margin: 0; padding-left: 16px; color: #e2e8f0;">
                            <li><strong>Periodo completo:</strong> MCD=1 ‚Üí periodo m√°ximo</li>
                            <li style="margin-top: 3px;"><strong>Calidad:</strong> Mejor distribuci√≥n</li>
                            <li style="margin-top: 3px;"><strong>Evita ciclos cortos:</strong> No se repite r√°pido</li>
                        </ul>
                        <div style="background: rgba(0,0,0,0.3); padding: 5px; border-radius: 4px; margin-top: 6px;">
                            <p style="font-size: 0.65rem; margin: 0; color: #cbd5e1; font-style: italic;">
                                <i class="fas fa-university"></i> Banco: necesitamos muchos tiempos diferentes
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Columna Derecha: Validador Interactivo -->
                <div style="background: rgba(15, 20, 25, 0.6); border-radius: 10px; border: 2px solid var(--uide-accent); padding: 12px; display: flex; flex-direction: column; height: 100%;">
                    <h3 style="text-align: center; color: var(--uide-accent); margin: 0 0 8px 0; font-size: 0.9rem; flex-shrink: 0;">
                        <i class="fas fa-calculator"></i> Validador de Coprimos
                    </h3>

                    <!-- Inputs -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px; flex-shrink: 0;">
                        <div>
                            <label style="display: block; font-size: 0.7rem; color: #94a3b8; margin-bottom: 3px; font-weight: 600;">
                                Incremento (c):
                            </label>
                            <input type="number" id="coprimoC" value="3" min="1" max="100"
                                   style="width: 100%; padding: 6px; background: rgba(255,255,255,0.1); border: 2px solid var(--uide-accent); color: white; border-radius: 4px; font-size: 0.9rem; text-align: center; font-weight: 600;">
                        </div>
                        <div>
                            <label style="display: block; font-size: 0.7rem; color: #94a3b8; margin-bottom: 3px; font-weight: 600;">
                                M√≥dulo (m):
                            </label>
                            <input type="number" id="coprimoM" value="16" min="2" max="1000"
                                   style="width: 100%; padding: 6px; background: rgba(255,255,255,0.1); border: 2px solid var(--uide-accent); color: white; border-radius: 4px; font-size: 0.9rem; text-align: center; font-weight: 600;">
                        </div>
                    </div>

                    <button id="validateCoprimosBtn" style="padding: 8px 16px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 6px; font-weight: 700; font-size: 0.85rem; cursor: pointer; transition: all 0.3s; margin-bottom: 10px; flex-shrink: 0; box-shadow: 0 4px 6px rgba(0,0,0,0.3);">
                        <i class="fas fa-check"></i> Validar
                    </button>

                    <!-- Resultado -->
                    <div id="coprimoResult" style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 8px; padding: 12px; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 0;">
                        <i class="fas fa-arrow-up" style="font-size: 2rem; color: #94a3b8; margin-bottom: 8px;"></i>
                        <p style="font-size: 0.75rem; color: #94a3b8; text-align: center; margin: 0;">
                            Ingresa valores y presiona "Validar"
                        </p>
                    </div>

                    <!-- Proceso de c√°lculo -->
                    <div id="coprimoProcess" style="background: rgba(35, 53, 110, 0.3); padding: 8px; border-radius: 6px; margin-top: 8px; display: none; flex-shrink: 0;">
                        <h4 style="font-size: 0.75rem; margin: 0 0 5px 0; color: var(--uide-accent);">
                            <i class="fas fa-cogs"></i> Proceso:
                        </h4>
                        <div id="coprimoSteps" style="font-family: 'Courier New', monospace; font-size: 0.65rem; color: #cbd5e1; line-height: 1.4;">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>
        // Algoritmo de Euclides para calcular MCD
        function calcularMCD(a, b) {
            const pasos = [];
            let original_a = a;
            let original_b = b;
            
            while (b !== 0) {
                const resto = a % b;
                pasos.push(`${a} = ${Math.floor(a/b)} √ó ${b} + ${resto}`);
                a = b;
                b = resto;
            }
            
            return { mcd: a, pasos: pasos };
        }

        // Validador de coprimos
        document.addEventListener('DOMContentLoaded', function() {
            const validateBtn = document.getElementById('validateCoprimosBtn');
            
            if (validateBtn) {
                validateBtn.addEventListener('click', function() {
                    const c = parseInt(document.getElementById('coprimoC').value) || 3;
                    const m = parseInt(document.getElementById('coprimoM').value) || 16;
                    
                    const resultado = calcularMCD(c, m);
                    const sonCoprimos = resultado.mcd === 1;
                    
                    // Mostrar resultado
                    const resultDiv = document.getElementById('coprimoResult');
                    const processDiv = document.getElementById('coprimoProcess');
                    const stepsDiv = document.getElementById('coprimoSteps');
                    
                    if (sonCoprimos) {
                        resultDiv.innerHTML = `
                            <i class="fas fa-check-circle" style="font-size: 4rem; color: #4ade80; margin-bottom: 15px;"></i>
                            <h3 style="font-size: 1.3rem; color: #4ade80; margin: 0 0 10px 0;">¬°Son Coprimos!</h3>
                            <p style="font-size: 1rem; color: #e2e8f0; margin: 0 0 8px 0;">MCD(${c}, ${m}) = ${resultado.mcd}</p>
                            <div style="background: rgba(74, 222, 128, 0.1); padding: 12px; border-radius: 6px; border-left: 4px solid #4ade80; margin-top: 15px;">
                                <p style="font-size: 0.85rem; margin: 0; color: #cbd5e1; line-height: 1.5;">
                                    <strong>‚úì V√°lido para GCL</strong><br>
                                    Estos par√°metros pueden generar un periodo completo
                                </p>
                            </div>
                        `;
                    } else {
                        resultDiv.innerHTML = `
                            <i class="fas fa-times-circle" style="font-size: 4rem; color: #f87171; margin-bottom: 15px;"></i>
                            <h3 style="font-size: 1.3rem; color: #f87171; margin: 0 0 10px 0;">No son Coprimos</h3>
                            <p style="font-size: 1rem; color: #e2e8f0; margin: 0 0 8px 0;">MCD(${c}, ${m}) = ${resultado.mcd}</p>
                            <div style="background: rgba(248, 113, 113, 0.1); padding: 12px; border-radius: 6px; border-left: 4px solid #f87171; margin-top: 15px;">
                                <p style="font-size: 0.85rem; margin: 0; color: #cbd5e1; line-height: 1.5;">
                                    <strong>‚úó No recomendado</strong><br>
                                    Tienen factor com√∫n: ${resultado.mcd}<br>
                                    El periodo ser√° menor que m
                                </p>
                            </div>
                        `;
                    }
                    
                    // Mostrar proceso
                    processDiv.style.display = 'block';
                    stepsDiv.innerHTML = `
                        <div style="margin-bottom: 8px; color: #e2e8f0;">
                            <strong>Algoritmo de Euclides:</strong>
                        </div>
                        ${resultado.pasos.map(paso => `<div style="margin-left: 10px;">‚Üí ${paso}</div>`).join('')}
                        <div style="margin-top: 8px; padding: 8px; background: rgba(233, 171, 33, 0.1); border-radius: 4px;">
                            <strong style="color: var(--uide-accent);">Resultado: MCD(${c}, ${m}) = ${resultado.mcd}</strong>
                        </div>
                    `;
                });
            }
        });
        </script>

        <!-- Slide 8: Periodo M√°ximo -->
        <div class="slide">
            <h2 style="margin-bottom: 0.4rem;"><i class="fas fa-sync-alt"></i> Periodo M√°ximo: Teorema de Hull-Dobell</h2>
            <div style="background: rgba(233, 171, 33, 0.15); padding: 6px 12px; border-radius: 6px; margin-bottom: 8px; border-left: 4px solid var(--uide-accent);">
                <p style="margin: 0; font-size: 0.75rem; color: #e2e8f0;">
                    <i class="fas fa-university"></i> <strong>Caso:</strong> Garantiza que podemos simular muchos d√≠as sin repetir patrones de llegada
                </p>
            </div>
            
            <div style="display: grid; grid-template-columns: 38% 62%; gap: 15px; padding: 0 12px; height: calc(100vh - 190px); max-height: 610px;">
                <!-- Columna Izquierda: Teor√≠a -->
                <div style="display: flex; flex-direction: column; gap: 8px; overflow-y: auto; height: 100%;">
                    <div style="background: rgba(35, 53, 110, 0.3); padding: 10px; border-radius: 8px; border: 2px solid var(--uide-accent);">
                        <h3 style="font-size: 0.9rem; margin: 0 0 6px 0; color: var(--uide-accent);">Definici√≥n de Periodo</h3>
                        <ul style="font-size: 0.75rem; line-height: 1.4; margin: 0; padding-left: 18px;">
                            <li><strong>Periodo (p)</strong>: Longitud antes de repetirse</li>
                            <li style="margin-top: 3px;"><strong>M√°ximo</strong>: p = m (periodo completo)</li>
                            <li style="margin-top: 3px;"><strong>Importancia</strong>: Mayor periodo = mayor calidad</li>
                        </ul>
                    </div>
                    
                    <div style="background: rgba(35, 53, 110, 0.3); padding: 10px; border-radius: 8px; border: 2px solid rgba(74, 222, 128, 0.3);">
                        <h3 style="font-size: 0.9rem; margin: 0 0 6px 0; color: #4ade80;">Condiciones Hull-Dobell (p = m)</h3>
                        <ol style="font-size: 0.7rem; line-height: 1.4; margin: 0; padding-left: 18px;">
                            <li>gcd(c, m) = 1</li>
                            <li style="margin-top: 3px;">(a - 1) es m√∫ltiplo de factores primos de m</li>
                            <li style="margin-top: 3px;">Si 4|m entonces 4|(a - 1)</li>
                        </ol>
                    </div>

                    <div style="background: rgba(233, 171, 33, 0.1); padding: 8px; border-radius: 6px; border-left: 4px solid var(--uide-accent);">
                        <p style="font-size: 0.7rem; margin: 0;">
                            <i class="fas fa-info-circle"></i> Garantiza m√°xima longitud sin repetici√≥n
                        </p>
                    </div>

                    <div style="background: rgba(35, 53, 110, 0.2); padding: 8px; border-radius: 6px; border: 1px solid rgba(233, 171, 33, 0.2);">
                        <div style="font-size: 0.7rem; line-height: 1.3;">
                            <div style="margin-bottom: 3px;">
                                <span style="color: #4ade80;">üìä Excel:</span>
                                <code style="background: rgba(0,0,0,0.3); padding: 2px 4px; border-radius: 3px; font-size: 0.65rem; color: #e2e8f0; margin-left: 4px;">=MOD(a*x+c, m)</code>
                            </div>
                            <div>
                                <span style="color: #60a5fa;">üìà R:</span>
                                <code style="background: rgba(0,0,0,0.3); padding: 2px 4px; border-radius: 3px; font-size: 0.65rem; color: #e2e8f0; margin-left: 4px;">(a*x + c) %% m</code>
                            </div>
                        </div>
                    </div>

                    <div style="text-align: center; margin-top: auto;">
                        <button id="generatePeriodBtn" style="padding: 8px 12px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 6px; font-weight: 700; font-size: 0.85rem; cursor: pointer; transition: all 0.3s; width: 100%; box-shadow: 0 4px 6px rgba(0,0,0,0.3);">
                            <i class="fas fa-play"></i> Visualizar Periodo
                        </button>
                        <div style="margin-top: 6px; display: grid; grid-template-columns: 1fr 1fr; gap: 6px; font-size: 0.7rem;">
                            <div>
                                <label style="color: #e2e8f0; font-weight: 600;">m:</label>
                                <input type="number" id="periodM" value="16" min="4" max="32" step="4"
                                       style="width: 100%; padding: 4px; background: rgba(255,255,255,0.1); border: 1px solid var(--uide-accent); color: white; border-radius: 4px; font-size: 0.7rem; text-align: center; font-weight: 600;">
                            </div>
                            <div>
                                <label style="color: #e2e8f0; font-weight: 600;">a:</label>
                                <input type="number" id="periodA" value="5" min="1" max="20"
                                       style="width: 100%; padding: 4px; background: rgba(255,255,255,0.1); border: 1px solid var(--uide-accent); color: white; border-radius: 4px; font-size: 0.7rem; text-align: center; font-weight: 600;">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Columna Derecha: Visualizaci√≥n Circular -->
                <div style="background: rgba(15, 20, 25, 0.6); border-radius: 10px; border: 2px solid var(--uide-accent); padding: 12px; display: flex; flex-direction: column; height: 100%; overflow: hidden;">
                    <h3 style="text-align: center; color: var(--uide-accent); margin: 0 0 6px 0; font-size: 0.95rem; flex-shrink: 0;">
                        <i class="fas fa-circle-notch"></i> Visualizaci√≥n Circular del Periodo
                    </h3>
                    <p style="text-align: center; font-size: 0.7rem; color: #94a3b8; margin: 0 0 8px 0; font-style: italic; flex-shrink: 0;">
                        <i class="fas fa-university"></i> Secuencia de llegadas antes de repetirse
                    </p>
                    
                    <!-- Canvas para visualizaci√≥n circular -->
                    <div style="position: relative; background: rgba(0,0,0,0.3); border-radius: 8px; padding: 8px; flex: 1; min-height: 0; overflow: hidden; display: flex; align-items: center; justify-content: center;">
                        <canvas id="periodCircle" style="max-width: 100%; max-height: 100%;"></canvas>
                        <div id="periodAnimation" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; color: var(--uide-accent); font-size: 0.85rem; pointer-events: none;"></div>
                    </div>

                    <!-- Estad√≠sticas del periodo -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin-top: 10px; flex-shrink: 0;">
                        <div style="background: rgba(35, 53, 110, 0.3); padding: 8px; border-radius: 6px; text-align: center;">
                            <div style="font-size: 0.7rem; color: #94a3b8; margin-bottom: 3px;">Periodo (p)</div>
                            <div id="periodValue" style="font-size: 1.1rem; font-weight: 700; color: var(--uide-accent);">-</div>
                        </div>
                        <div style="background: rgba(35, 53, 110, 0.3); padding: 8px; border-radius: 6px; text-align: center;">
                            <div style="font-size: 0.7rem; color: #94a3b8; margin-bottom: 3px;">M√≥dulo (m)</div>
                            <div id="periodModulo" style="font-size: 1.1rem; font-weight: 700; color: var(--uide-accent);">-</div>
                        </div>
                        <div style="background: rgba(35, 53, 110, 0.3); padding: 8px; border-radius: 6px; text-align: center;">
                            <div style="font-size: 0.7rem; color: #94a3b8; margin-bottom: 3px;">Eficiencia</div>
                            <div id="periodEfficiency" style="font-size: 1.1rem; font-weight: 700; color: var(--uide-accent);">-</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>
        // Visualizaci√≥n del Periodo Circular
        document.addEventListener('DOMContentLoaded', function() {
            const generatePeriodBtn = document.getElementById('generatePeriodBtn');
            
            if (generatePeriodBtn) {
                generatePeriodBtn.addEventListener('click', function() {
                    const m = parseInt(document.getElementById('periodM').value) || 16;
                    const a = parseInt(document.getElementById('periodA').value) || 5;
                    visualizePeriod(m, a);
                });
            }
        });

        function visualizePeriod(m, a) {
            const c = 1; // Incremento fijo para simplicidad
            const seed = 1;
            
            // Generar secuencia hasta encontrar repetici√≥n
            let x = seed;
            const sequence = [x];
            let period = 0;
            
            for (let i = 0; i < m * 2; i++) {
                x = (a * x + c) % m;
                if (sequence.includes(x)) {
                    period = sequence.length;
                    break;
                }
                sequence.push(x);
            }
            
            // Actualizar estad√≠sticas
            document.getElementById('periodValue').textContent = period;
            document.getElementById('periodModulo').textContent = m;
            const efficiency = ((period / m) * 100).toFixed(1) + '%';
            document.getElementById('periodEfficiency').textContent = efficiency;
            
            // Dibujar visualizaci√≥n circular
            drawPeriodCircle(sequence, m, period);
        }

        function drawPeriodCircle(sequence, m, period) {
            const canvas = document.getElementById('periodCircle');
            if (!canvas) return;
            
            const container = canvas.parentElement;
            const size = Math.min(container.clientWidth, container.clientHeight) - 40;
            
            // Soporte para alta resoluci√≥n (4K)
            const dpr = window.devicePixelRatio || 1;
            canvas.width = size * dpr;
            canvas.height = size * dpr;
            canvas.style.width = size + 'px';
            canvas.style.height = size + 'px';
            
            const ctx = canvas.getContext('2d');
            ctx.scale(dpr, dpr);
            
            const centerX = size / 2;
            const centerY = size / 2;
            const radius = size * 0.35;
            
            // Limpiar canvas
            ctx.clearRect(0, 0, size, size);
            
            // Dibujar c√≠rculo base
            ctx.strokeStyle = 'rgba(100, 116, 139, 0.3)';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);
            ctx.stroke();
            
            // Dibujar puntos y conexiones animadas
            let currentIndex = 0;
            const animationInterval = setInterval(() => {
                if (currentIndex >= sequence.length) {
                    clearInterval(animationInterval);
                    
                    // Dibujar l√≠nea de cierre si hay repetici√≥n
                    if (period < m) {
                        const lastAngle = (2 * Math.PI * sequence[sequence.length - 1]) / m - Math.PI / 2;
                        const firstAngle = (2 * Math.PI * sequence[0]) / m - Math.PI / 2;
                        
                        ctx.strokeStyle = '#f472b6';
                        ctx.lineWidth = 3;
                        ctx.setLineDash([5, 5]);
                        ctx.beginPath();
                        ctx.moveTo(centerX + radius * Math.cos(lastAngle), centerY + radius * Math.sin(lastAngle));
                        ctx.lineTo(centerX + radius * Math.cos(firstAngle), centerY + radius * Math.sin(firstAngle));
                        ctx.stroke();
                        ctx.setLineDash([]);
                        
                        document.getElementById('periodAnimation').innerHTML = 
                            `<div style="background: rgba(244, 114, 182, 0.2); padding: 10px; border-radius: 8px; border: 2px solid #f472b6;">
                                <strong>‚ü≥ Ciclo detectado</strong><br>
                                <span style="font-size: 0.8rem;">Periodo: ${period} / ${m}</span>
                            </div>`;
                    } else {
                        document.getElementById('periodAnimation').innerHTML = 
                            `<div style="background: rgba(74, 222, 128, 0.2); padding: 10px; border-radius: 8px; border: 2px solid #4ade80;">
                                <strong>‚úì Periodo completo</strong><br>
                                <span style="font-size: 0.8rem;">p = m = ${m}</span>
                            </div>`;
                    }
                    return;
                }
                
                const value = sequence[currentIndex];
                const angle = (2 * Math.PI * value) / m - Math.PI / 2;
                const x = centerX + radius * Math.cos(angle);
                const y = centerY + radius * Math.sin(angle);
                
                // Dibujar l√≠nea de conexi√≥n
                if (currentIndex > 0) {
                    const prevValue = sequence[currentIndex - 1];
                    const prevAngle = (2 * Math.PI * prevValue) / m - Math.PI / 2;
                    const prevX = centerX + radius * Math.cos(prevAngle);
                    const prevY = centerY + radius * Math.sin(prevAngle);
                    
                    ctx.strokeStyle = 'rgba(233, 171, 33, 0.5)';
                    ctx.lineWidth = 2;
                    ctx.beginPath();
                    ctx.moveTo(prevX, prevY);
                    ctx.lineTo(x, y);
                    ctx.stroke();
                }
                
                // Dibujar punto
                ctx.fillStyle = currentIndex === 0 ? '#4ade80' : '#E9AB21';
                ctx.beginPath();
                ctx.arc(x, y, 5, 0, 2 * Math.PI);
                ctx.fill();
                
                // Etiqueta del valor
                ctx.fillStyle = '#ffffff';
                ctx.font = '10px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(value, x, y - 10);
                
                currentIndex++;
            }, 300); // 300ms entre cada punto
        }
        </script>

        <!-- Slide 9: Pruebas de Validaci√≥n -->
        <div class="slide">
            <h2><i class="fas fa-flask"></i> Pruebas de Validaci√≥n: Uniformidad</h2>
            <div class="quote">
                "Garantizar que la secuencia de n√∫meros generados se ajusta a una distribuci√≥n U(0,1)"
            </div>
            <div style="background: rgba(233, 171, 33, 0.15); padding: 10px 15px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid var(--uide-accent); text-align: center;">
                <p style="margin: 0; font-size: 0.9rem; color: #e2e8f0;">
                    <i class="fas fa-university"></i> <strong>Caso del Banco:</strong> Verificamos que los tiempos de llegada simulados sean realistas y confiables antes de usarlos para tomar decisiones operativas
                </p>
            </div>
            <div class="content-grid">
                <div class="feature-card">
                    <h3><i class="fas fa-chart-line"></i> Kolmogorov-Smirnov (K-S)</h3>
                    <ul>
                        <li><strong>Tipo</strong>: Test no param√©trico de bondad de ajuste</li>
                        <li><strong>Aplicaci√≥n</strong>: Distribuciones te√≥ricas continuas</li>
                        <li><strong>Comparaci√≥n</strong>: Funci√≥n de distribuci√≥n emp√≠rica vs te√≥rica</li>
                        <li><strong>Decisi√≥n</strong>: Si D > d<sub>Œ±,n</sub> ‚Üí rechazar H<sub>0</sub></li>
                    </ul>
                    <div style="background: rgba(233, 171, 33, 0.1); padding: 8px; border-radius: 6px; margin-top: 10px; font-size: 0.85rem;">
                        <i class="fas fa-university"></i> <strong>En el banco:</strong> Compara la distribuci√≥n de tiempos simulados con la esperada
                    </div>
                </div>
                <div class="feature-card">
                    <h3><i class="fas fa-chart-pie"></i> Chi-Cuadrado (œá¬≤)</h3>
                    <ul>
                        <li><strong>Tambi√©n conocida como</strong>: Prueba de Pearson o de frecuencias</li>
                        <li><strong>Mide</strong>: Discrepancia entre F<sub>o</sub> y F<sub>e</sub></li>
                        <li><strong>Principio</strong>: Frecuencias deben ser aproximadamente iguales</li>
                        <li><strong>Decisi√≥n</strong>: Si œá¬≤ > œá¬≤<sub>Œ±,K-1</sub> ‚Üí rechazar H<sub>0</sub></li>
                    </ul>
                    <div style="background: rgba(145, 0, 72, 0.1); padding: 8px; border-radius: 6px; margin-top: 10px; font-size: 0.85rem;">
                        <i class="fas fa-university"></i> <strong>En el banco:</strong> Verifica que las llegadas se distribuyan uniformemente en intervalos
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 10: Prueba K-S -->
        <div class="slide">
            <h2 style="margin-bottom: 0.5rem;"><i class="fas fa-chart-line"></i> Prueba de Kolmogorov-Smirnov (K-S)</h2>
            <div style="background: rgba(233, 171, 33, 0.15); padding: 6px 12px; border-radius: 6px; margin-bottom: 10px; border-left: 4px solid var(--uide-accent);">
                <p style="margin: 0; font-size: 0.8rem; color: #e2e8f0;">
                    <i class="fas fa-university"></i> <strong>Caso:</strong> Verifica que los tiempos de llegada simulados sean realistas
                </p>
            </div>
            
            <div style="display: grid; grid-template-columns: 20% 55% 25%; gap: 15px; height: calc(100vh - 250px); max-height: 590px;">
                <!-- Columna 1: Caracter√≠sticas -->
                <div style="display: flex; flex-direction: column; gap: 10px; height: 100%;">
                    <div style="flex-shrink: 0;">
                        <h3 style="font-size: 0.95rem; margin-bottom: 6px;">Caracter√≠sticas</h3>
                        <ul style="font-size: 0.8rem; line-height: 1.4; margin: 0; padding-left: 18px;">
                            <li><strong>Tipo</strong>: Test no param√©trico</li>
                            <li><strong>Aplicaci√≥n</strong>: Distribuciones continuas</li>
                            <li><strong>Comparaci√≥n</strong>: F emp√≠rica vs te√≥rica</li>
                        </ul>
                    </div>

                    <div style="background: rgba(233, 171, 33, 0.1); padding: 8px; border-radius: 8px; border-left: 4px solid var(--uide-accent); flex-shrink: 0;">
                        <p style="font-size: 0.75rem; margin: 0;">
                            <i class="fas fa-info-circle"></i> <strong>H<sub>0</sub>:</strong> Datos ~ U(0,1)
                        </p>
                    </div>

                    <div style="background: rgba(35, 53, 110, 0.2); padding: 6px; border-radius: 6px; border: 1px solid rgba(233, 171, 33, 0.2); flex-shrink: 0;">
                        <div style="font-size: 0.7rem; line-height: 1.3;">
                            <div style="margin-bottom: 3px;">
                                <span style="color: #4ade80;">üìä Excel:</span>
                                <code style="background: rgba(0,0,0,0.3); padding: 1px 4px; border-radius: 3px; font-size: 0.65rem; color: #e2e8f0; display: block; margin-top: 2px;">=MAX(ABS(rango))</code>
                                <code style="background: rgba(0,0,0,0.25); padding: 1px 4px; border-radius: 3px; font-size: 0.6rem; color: #cbd5e1; display: block; margin-top: 2px; font-style: italic;">=MAX(ABS(rango))</code>
                            </div>
                            <div>
                                <span style="color: #60a5fa;">üìà R:</span>
                                <code style="background: rgba(0,0,0,0.3); padding: 1px 4px; border-radius: 3px; font-size: 0.65rem; color: #e2e8f0; display: block; margin-top: 2px;">ks.test(x, "punif")</code>
                            </div>
                        </div>
                    </div>

                    <div style="text-align: center; margin-top: auto; flex-shrink: 0;">
                        <button id="generateKSBtn" style="padding: 8px 12px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 6px; font-weight: 600; font-size: 0.85rem; cursor: pointer; transition: all 0.3s; width: 100%;">
                            <i class="fas fa-play"></i> Ejecutar
                        </button>
                        <div style="margin-top: 6px; font-size: 0.75rem;">
                            <label style="color: #e2e8f0;">n = </label>
                            <input type="number" id="ksCount" value="50" min="20" max="200" step="10"
                                   style="width: 60px; padding: 3px; background: rgba(255,255,255,0.1); border: 1px solid var(--uide-accent); color: white; border-radius: 4px; font-size: 0.75rem;">
                        </div>
                    </div>
                </div>

                <!-- Columna 2: Visualizaci√≥n (Centro) -->
                <div style="background: rgba(15, 20, 25, 0.6); border-radius: 10px; border: 2px solid var(--uide-accent); padding: 12px; display: flex; flex-direction: column; height: 100%; min-height: 0;">
                    <h3 style="text-align: center; color: var(--uide-accent); margin: 0 0 4px 0; font-size: 0.95rem; flex-shrink: 0;">
                        <i class="fas fa-chart-area"></i> Funci√≥n Emp√≠rica vs Te√≥rica
                    </h3>
                    <p style="text-align: center; font-size: 0.65rem; color: #94a3b8; margin: 0 0 8px 0; font-style: italic;">
                        <i class="fas fa-university"></i> Comparaci√≥n: tiempos simulados vs distribuci√≥n esperada
                    </p>
                    
                    <!-- Canvas para el gr√°fico K-S -->
                    <div style="position: relative; background: rgba(0,0,0,0.3); border-radius: 8px; padding: 8px; flex: 1; min-height: 0; overflow: hidden; display: flex; align-items: center; justify-content: center;">
                        <canvas id="ksCanvas"></canvas>
                    </div>

                    <!-- Resultados de la prueba -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 6px; margin-top: 10px; flex-shrink: 0;">
                        <div style="background: rgba(35, 53, 110, 0.3); padding: 6px; border-radius: 6px; text-align: center;">
                            <div style="font-size: 0.65rem; color: #94a3b8;">Estad√≠stico D</div>
                            <div id="ksD" style="font-size: 0.95rem; font-weight: 600; color: var(--uide-accent);">-</div>
                        </div>
                        <div style="background: rgba(35, 53, 110, 0.3); padding: 6px; border-radius: 6px; text-align: center;">
                            <div style="font-size: 0.65rem; color: #94a3b8;">Valor Cr√≠tico</div>
                            <div id="ksCritical" style="font-size: 0.95rem; font-weight: 600; color: var(--uide-accent);">-</div>
                        </div>
                        <div style="background: rgba(35, 53, 110, 0.3); padding: 6px; border-radius: 6px; text-align: center;">
                            <div style="font-size: 0.65rem; color: #94a3b8;">Resultado</div>
                            <div id="ksResult" style="font-size: 0.8rem; font-weight: 600; color: var(--uide-accent);">-</div>
                        </div>
                    </div>
                </div>

                <!-- Columna 3: Procedimiento -->
                <div style="display: flex; flex-direction: column; gap: 10px; height: 100%;">
                    <div style="flex-shrink: 0;">
                        <h3 style="font-size: 0.95rem; margin-bottom: 6px;">Procedimiento</h3>
                        <ol style="font-size: 0.8rem; line-height: 1.4; margin: 0; padding-left: 18px;">
                            <li>Ordenar n√∫meros</li>
                            <li>Calcular desviaci√≥n m√°xima D</li>
                            <li>Comparar con d<sub>Œ±,n</sub></li>
                            <li>Decisi√≥n: D > d<sub>Œ±,n</sub> ‚Üí rechazar H<sub>0</sub></li>
                        </ol>
                    </div>
                    
                    <div style="background: rgba(145, 0, 72, 0.1); padding: 8px; border-radius: 8px; border-left: 4px solid var(--uide-primary); flex-shrink: 0;">
                        <p style="font-size: 0.75rem; margin: 0; line-height: 1.3;">
                            <i class="fas fa-exclamation-triangle"></i> <strong>Ventajas:</strong> No requiere agrupaci√≥n, sensible a toda la distribuci√≥n
                        </p>
                    </div>
                </div>
            </div>
            </div>
        </div>

        <script>
        // Prueba de Kolmogorov-Smirnov
        document.addEventListener('DOMContentLoaded', function() {
            const generateKSBtn = document.getElementById('generateKSBtn');
            
            if (generateKSBtn) {
                generateKSBtn.addEventListener('click', function() {
                    const n = parseInt(document.getElementById('ksCount').value) || 50;
                    performKSTest(n);
                });
            }
        });

        function performKSTest(n) {
            // Generar n√∫meros uniformes
            const a = 1103515245;
            const c = 12345;
            const m = Math.pow(2, 31);
            let x = Date.now() % m;
            
            const numbers = [];
            for (let i = 0; i < n; i++) {
                x = (a * x + c) % m;
                numbers.push(x / m);
            }
            
            // Ordenar n√∫meros
            const sorted = [...numbers].sort((a, b) => a - b);
            
            // Calcular funci√≥n emp√≠rica y desviaciones
            const empirical = sorted.map((val, i) => ({ x: val, y: (i + 1) / n }));
            
            // Calcular estad√≠stico D (m√°xima desviaci√≥n)
            let maxD = 0;
            let maxPoint = null;
            
            empirical.forEach((point, i) => {
                const theoretical = point.x; // Para U(0,1), F(x) = x
                const d1 = Math.abs(point.y - theoretical);
                const d2 = Math.abs((i / n) - theoretical);
                
                if (d1 > maxD) {
                    maxD = d1;
                    maxPoint = { x: point.x, y: point.y, theoretical: theoretical };
                }
                if (d2 > maxD) {
                    maxD = d2;
                    maxPoint = { x: point.x, y: i / n, theoretical: theoretical };
                }
            });
            
            // Valor cr√≠tico aproximado para Œ± = 0.05
            const critical = 1.36 / Math.sqrt(n);
            
            // Actualizar resultados
            document.getElementById('ksD').textContent = maxD.toFixed(4);
            document.getElementById('ksCritical').textContent = critical.toFixed(4);
            
            const passed = maxD <= critical;
            document.getElementById('ksResult').innerHTML = passed 
                ? '<span style="color: #4ade80;">‚úì Pasa</span>' 
                : '<span style="color: #f87171;">‚úó Falla</span>';
            
            // Dibujar gr√°fico
            drawKSPlot(empirical, maxPoint, maxD, critical, passed);
        }

        function drawKSPlot(empirical, maxPoint, maxD, critical, passed) {
            const canvas = document.getElementById('ksCanvas');
            if (!canvas) return;
            
            const container = canvas.parentElement;
            const rect = container.getBoundingClientRect();
            
            // Soporte para alta resoluci√≥n (4K)
            const dpr = window.devicePixelRatio || 1;
            const width = Math.max(rect.width - 20, 300);
            const height = Math.max(rect.height - 20, 300);
            
            canvas.width = width * dpr;
            canvas.height = height * dpr;
            canvas.style.width = width + 'px';
            canvas.style.height = height + 'px';
            
            const ctx = canvas.getContext('2d');
            ctx.scale(dpr, dpr);
            
            const padding = 40;
            const plotWidth = width - 2 * padding;
            const plotHeight = height - 2 * padding;
            
            // Limpiar canvas
            ctx.clearRect(0, 0, width, height);
            
            // Dibujar ejes
            ctx.strokeStyle = '#64748b';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(padding, padding);
            ctx.lineTo(padding, height - padding);
            ctx.lineTo(width - padding, height - padding);
            ctx.stroke();
            
            // Etiquetas de ejes
            ctx.fillStyle = '#94a3b8';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('x', width / 2, height - 10);
            
            ctx.save();
            ctx.translate(15, height / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('F(x)', 0, 0);
            ctx.restore();
            
            // Dibujar l√≠nea te√≥rica (diagonal)
            ctx.strokeStyle = '#60a5fa';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(padding, height - padding);
            ctx.lineTo(width - padding, padding);
            ctx.stroke();
            
            // Etiqueta l√≠nea te√≥rica
            ctx.fillStyle = '#60a5fa';
            ctx.font = '10px Arial';
            ctx.fillText('Te√≥rica F(x)=x', width - padding - 60, padding + 20);
            
            // Dibujar funci√≥n emp√≠rica (escalonada)
            ctx.strokeStyle = '#4ade80';
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            let prevX = padding;
            let prevY = height - padding;
            
            empirical.forEach((point, i) => {
                const x = padding + point.x * plotWidth;
                const y = height - padding - point.y * plotHeight;
                
                // L√≠nea horizontal
                ctx.lineTo(x, prevY);
                // L√≠nea vertical
                ctx.lineTo(x, y);
                
                prevX = x;
                prevY = y;
            });
            
            ctx.stroke();
            
            // Etiqueta l√≠nea emp√≠rica
            ctx.fillStyle = '#4ade80';
            ctx.fillText('Emp√≠rica', padding + 60, padding + 20);
            
            // Dibujar l√≠nea de m√°xima desviaci√≥n
            if (maxPoint) {
                const x = padding + maxPoint.x * plotWidth;
                const yEmp = height - padding - maxPoint.y * plotHeight;
                const yTheo = height - padding - maxPoint.theoretical * plotHeight;
                
                ctx.strokeStyle = passed ? '#fbbf24' : '#f87171';
                ctx.lineWidth = 3;
                ctx.setLineDash([5, 5]);
                ctx.beginPath();
                ctx.moveTo(x, yEmp);
                ctx.lineTo(x, yTheo);
                ctx.stroke();
                ctx.setLineDash([]);
                
                // Etiqueta D
                ctx.fillStyle = passed ? '#fbbf24' : '#f87171';
                ctx.font = 'bold 11px Arial';
                ctx.fillText(`D=${maxD.toFixed(3)}`, x + 10, (yEmp + yTheo) / 2);
            }
        }
        </script>

        <!-- Slide 11: Prueba Chi-Cuadrado -->
        <div class="slide">
            <h2 style="margin-bottom: 0.4rem;"><i class="fas fa-chart-pie"></i> Prueba Chi-Cuadrado (œá¬≤)</h2>
            <div style="background: rgba(233, 171, 33, 0.15); padding: 5px 10px; border-radius: 6px; margin-bottom: 6px; border-left: 4px solid var(--uide-accent);">
                <p style="margin: 0; font-size: 0.7rem; color: #e2e8f0;">
                    <i class="fas fa-university"></i> <strong>Caso:</strong> Confirma que las llegadas se distribuyen uniformemente en intervalos
                </p>
            </div>
            
            <div style="display: grid; grid-template-columns: 22% 56% 22%; gap: 12px; padding: 0 10px; height: calc(100vh - 180px); max-height: 620px;">
                <!-- Columna 1: Informaci√≥n -->
                <div style="display: flex; flex-direction: column; gap: 8px; height: 100%;">
                    <div style="background: rgba(35, 53, 110, 0.3); padding: 8px; border-radius: 6px; border: 2px solid var(--uide-accent);">
                        <h3 style="font-size: 0.8rem; margin: 0 0 5px 0; color: var(--uide-accent);">Tambi√©n Conocida</h3>
                        <ul style="font-size: 0.7rem; line-height: 1.3; margin: 0; padding-left: 16px;">
                            <li>Prueba de Pearson</li>
                            <li>Prueba de frecuencias</li>
                        </ul>
                    </div>
                    
                    <div style="background: rgba(35, 53, 110, 0.3); padding: 8px; border-radius: 6px; border: 2px solid rgba(74, 222, 128, 0.3);">
                        <h3 style="font-size: 0.8rem; margin: 0 0 5px 0; color: #4ade80;">Metodolog√≠a</h3>
                        <ul style="font-size: 0.7rem; line-height: 1.3; margin: 0; padding-left: 16px;">
                            <li><strong>Mide:</strong> F<sub>o</sub> vs F<sub>e</sub></li>
                            <li><strong>Principio:</strong> Frec. ‚âà iguales</li>
                        </ul>
                    </div>

                    <div style="background: rgba(145, 0, 72, 0.1); padding: 6px; border-radius: 6px; border-left: 4px solid var(--uide-primary);">
                        <p style="font-size: 0.65rem; margin: 0; line-height: 1.2;">
                            <i class="fas fa-exclamation-triangle"></i> <strong>Nota:</strong> Min. 5 obs/clase
                        </p>
                    </div>

                    <div style="background: rgba(35, 53, 110, 0.2); padding: 6px; border-radius: 6px; border: 1px solid rgba(145, 0, 72, 0.2);">
                        <div style="font-size: 0.65rem; line-height: 1.2;">
                            <div style="margin-bottom: 3px;">
                                <span style="color: #4ade80;">üìä Excel:</span>
                                <code style="background: rgba(0,0,0,0.3); padding: 1px 3px; border-radius: 2px; font-size: 0.6rem; color: #e2e8f0; display: block; margin-top: 2px;">=CHISQ.TEST(Fo, Fe)</code>
                            </div>
                            <div>
                                <span style="color: #60a5fa;">üìà R:</span>
                                <code style="background: rgba(0,0,0,0.3); padding: 1px 3px; border-radius: 2px; font-size: 0.6rem; color: #e2e8f0; display: block; margin-top: 2px;">chisq.test(obs, p)</code>
                            </div>
                        </div>
                    </div>

                    <div style="text-align: center; margin-top: auto;">
                        <button id="generateChiBtn" style="padding: 8px 10px; background: var(--uide-primary); color: white; border: none; border-radius: 6px; font-weight: 700; font-size: 0.8rem; cursor: pointer; transition: all 0.3s; width: 100%; box-shadow: 0 4px 6px rgba(0,0,0,0.3);">
                            <i class="fas fa-play"></i> Ejecutar
                        </button>
                        <div style="margin-top: 5px; font-size: 0.7rem;">
                            <label style="color: #e2e8f0; font-weight: 600;">n = </label>
                            <input type="number" id="chiCount" value="100" min="50" max="500" step="50"
                                   style="width: 55px; padding: 3px; background: rgba(255,255,255,0.1); border: 1px solid var(--uide-primary); color: white; border-radius: 4px; font-size: 0.7rem; text-align: center; font-weight: 600;">
                        </div>
                        <div style="margin-top: 3px; font-size: 0.7rem;">
                            <label style="color: #e2e8f0; font-weight: 600;">K = </label>
                            <input type="number" id="chiClasses" value="10" min="5" max="20"
                                   style="width: 55px; padding: 3px; background: rgba(255,255,255,0.1); border: 1px solid var(--uide-primary); color: white; border-radius: 4px; font-size: 0.7rem; text-align: center; font-weight: 600;">
                        </div>
                    </div>
                </div>

                <!-- Columna 2: Visualizaci√≥n (Centro) -->
                <div style="background: rgba(15, 20, 25, 0.6); border-radius: 10px; border: 2px solid var(--uide-primary); padding: 12px; display: flex; flex-direction: column; height: 100%; overflow: hidden;">
                    <h3 style="text-align: center; color: var(--uide-primary); margin: 0 0 4px 0; font-size: 0.9rem; flex-shrink: 0;">
                        <i class="fas fa-chart-bar"></i> Frecuencias Observadas vs Esperadas
                    </h3>
                    <p style="text-align: center; font-size: 0.65rem; color: #94a3b8; margin: 0 0 8px 0; font-style: italic; flex-shrink: 0;">
                        <i class="fas fa-university"></i> Llegadas por intervalo
                    </p>
                    
                    <!-- Canvas para el histograma Chi-Cuadrado -->
                    <div style="position: relative; background: rgba(0,0,0,0.3); border-radius: 8px; padding: 8px; flex: 1; min-height: 0; overflow: hidden; display: flex; align-items: center; justify-content: center;">
                        <canvas id="chiCanvas" style="max-width: 100%; max-height: 100%;"></canvas>
                    </div>

                    <!-- Resultados de la prueba -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin-top: 10px; flex-shrink: 0;">
                        <div style="background: rgba(35, 53, 110, 0.3); padding: 8px; border-radius: 6px; text-align: center;">
                            <div style="font-size: 0.65rem; color: #94a3b8; margin-bottom: 3px;">œá¬≤ Calculado</div>
                            <div id="chiSquare" style="font-size: 1rem; font-weight: 700; color: var(--uide-primary);">-</div>
                        </div>
                        <div style="background: rgba(35, 53, 110, 0.3); padding: 8px; border-radius: 6px; text-align: center;">
                            <div style="font-size: 0.65rem; color: #94a3b8; margin-bottom: 3px;">œá¬≤ Cr√≠tico</div>
                            <div id="chiCritical" style="font-size: 1rem; font-weight: 700; color: var(--uide-primary);">-</div>
                        </div>
                        <div style="background: rgba(35, 53, 110, 0.3); padding: 8px; border-radius: 6px; text-align: center;">
                            <div style="font-size: 0.65rem; color: #94a3b8; margin-bottom: 3px;">Resultado</div>
                            <div id="chiResult" style="font-size: 0.75rem; font-weight: 700; color: var(--uide-primary);">-</div>
                        </div>
                    </div>
                </div>

                <!-- Columna 3: Procedimiento -->
                <div style="display: flex; flex-direction: column; gap: 8px; height: 100%;">
                    <div style="background: rgba(35, 53, 110, 0.3); padding: 8px; border-radius: 6px; border: 2px solid rgba(96, 165, 250, 0.3);">
                        <h3 style="font-size: 0.8rem; margin: 0 0 5px 0; color: #60a5fa;">Procedimiento</h3>
                        <ol style="font-size: 0.7rem; line-height: 1.3; margin: 0; padding-left: 16px;">
                            <li>Agrupar en K clases</li>
                            <li style="margin-top: 2px;">Calcular F<sub>o</sub> y F<sub>e</sub></li>
                            <li style="margin-top: 2px;">Computar œá¬≤</li>
                            <li style="margin-top: 2px;">Comparar con œá¬≤<sub>Œ±,K-1</sub></li>
                        </ol>
                    </div>
                    
                    <div style="background: rgba(233, 171, 33, 0.1); padding: 8px; border-radius: 6px; border-left: 4px solid var(--uide-accent);">
                        <p style="font-size: 0.7rem; margin: 0; line-height: 1.3;">
                            <i class="fas fa-info-circle"></i> <strong>F√≥rmula:</strong><br>
                            œá¬≤ = Œ£(F<sub>o</sub>-F<sub>e</sub>)¬≤/F<sub>e</sub>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <script>
        // Prueba de Chi-Cuadrado
        document.addEventListener('DOMContentLoaded', function() {
            const generateChiBtn = document.getElementById('generateChiBtn');
            
            if (generateChiBtn) {
                generateChiBtn.addEventListener('click', function() {
                    const n = parseInt(document.getElementById('chiCount').value) || 100;
                    const k = parseInt(document.getElementById('chiClasses').value) || 10;
                    performChiSquareTest(n, k);
                });
            }
        });

        function performChiSquareTest(n, k) {
            // Generar n√∫meros uniformes
            const a = 1103515245;
            const c = 12345;
            const m = Math.pow(2, 31);
            let x = Date.now() % m;
            
            const numbers = [];
            for (let i = 0; i < n; i++) {
                x = (a * x + c) % m;
                numbers.push(x / m);
            }
            
            // Agrupar en K clases
            const observed = new Array(k).fill(0);
            numbers.forEach(num => {
                const classIndex = Math.min(Math.floor(num * k), k - 1);
                observed[classIndex]++;
            });
            
            // Frecuencia esperada (uniforme)
            const expected = n / k;
            
            // Calcular estad√≠stico Chi-Cuadrado
            let chiSquare = 0;
            observed.forEach(fo => {
                chiSquare += Math.pow(fo - expected, 2) / expected;
            });
            
            // Valor cr√≠tico aproximado para Œ± = 0.05 y gl = k-1
            // Usando aproximaci√≥n simple
            const df = k - 1;
            const critical = getChiSquareCritical(df, 0.05);
            
            // Actualizar resultados
            document.getElementById('chiSquare').textContent = chiSquare.toFixed(3);
            document.getElementById('chiCritical').textContent = critical.toFixed(3);
            
            const passed = chiSquare <= critical;
            document.getElementById('chiResult').innerHTML = passed 
                ? '<span style="color: #4ade80;">‚úì Pasa</span>' 
                : '<span style="color: #f87171;">‚úó Falla</span>';
            
            // Dibujar gr√°fico
            drawChiSquarePlot(observed, expected, k, passed);
        }

        function getChiSquareCritical(df, alpha) {
            // Valores cr√≠ticos aproximados para Œ± = 0.05
            const criticalValues = {
                4: 9.488, 5: 11.070, 6: 12.592, 7: 14.067, 8: 15.507,
                9: 16.919, 10: 18.307, 11: 19.675, 12: 21.026, 13: 22.362,
                14: 23.685, 15: 24.996, 16: 26.296, 17: 27.587, 18: 28.869, 19: 30.144
            };
            return criticalValues[df] || 18.307;
        }

        function drawChiSquarePlot(observed, expected, k, passed) {
            const canvas = document.getElementById('chiCanvas');
            if (!canvas) return;
            
            const container = canvas.parentElement;
            const rect = container.getBoundingClientRect();
            canvas.width = Math.max(rect.width - 20, 300);
            canvas.height = Math.max(rect.height - 20, 300);
            
            const ctx = canvas.getContext('2d');
            const padding = 40;
            const plotWidth = canvas.width - 2 * padding;
            const plotHeight = canvas.height - 2 * padding;
            
            // Limpiar canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Dibujar ejes
            ctx.strokeStyle = '#64748b';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(padding, padding);
            ctx.lineTo(padding, canvas.height - padding);
            ctx.lineTo(canvas.width - padding, canvas.height - padding);
            ctx.stroke();
            
            // Etiquetas de ejes
            ctx.fillStyle = '#94a3b8';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('Clases', canvas.width / 2, canvas.height - 10);
            
            ctx.save();
            ctx.translate(15, canvas.height / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('Frecuencia', 0, 0);
            ctx.restore();
            
            // Encontrar m√°ximo para escala
            const maxFreq = Math.max(...observed, expected);
            const barWidth = plotWidth / k;
            const heightScale = plotHeight / (maxFreq * 1.1);
            
            // Dibujar barras
            observed.forEach((fo, i) => {
                const x = padding + i * barWidth;
                const barW = barWidth * 0.8;
                
                // Barra de frecuencia esperada (fondo, transparente)
                const expectedHeight = expected * heightScale;
                const expectedY = canvas.height - padding - expectedHeight;
                ctx.fillStyle = 'rgba(96, 165, 250, 0.3)';
                ctx.fillRect(x + barW * 0.1, expectedY, barW * 0.8, expectedHeight);
                ctx.strokeStyle = '#60a5fa';
                ctx.lineWidth = 2;
                ctx.strokeRect(x + barW * 0.1, expectedY, barW * 0.8, expectedHeight);
                
                // Barra de frecuencia observada (frente)
                const observedHeight = fo * heightScale;
                const observedY = canvas.height - padding - observedHeight;
                ctx.fillStyle = passed ? 'rgba(74, 222, 128, 0.7)' : 'rgba(248, 113, 113, 0.7)';
                ctx.fillRect(x + barW * 0.2, observedY, barW * 0.6, observedHeight);
                ctx.strokeStyle = passed ? '#4ade80' : '#f87171';
                ctx.lineWidth = 2;
                ctx.strokeRect(x + barW * 0.2, observedY, barW * 0.6, observedHeight);
                
                // Etiqueta de frecuencia observada
                ctx.fillStyle = '#ffffff';
                ctx.font = '10px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(fo, x + barW / 2, observedY - 5);
                
                // Etiqueta de clase
                ctx.fillStyle = '#94a3b8';
                ctx.font = '9px Arial';
                ctx.fillText(i + 1, x + barW / 2, canvas.height - padding + 15);
            });
            
            // Leyenda
            ctx.fillStyle = '#60a5fa';
            ctx.font = '10px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('Fe (esperada)', padding + 10, padding + 15);
            
            ctx.fillStyle = passed ? '#4ade80' : '#f87171';
            ctx.fillText('Fo (observada)', padding + 10, padding + 30);
        }
        </script>

        <!-- Slide 12: Pruebas de Medias y Varianzas -->
        <div class="slide">
            <h2 style="margin-bottom: 0.5rem;"><i class="fas fa-calculator"></i> Pruebas de Medias y Varianzas</h2>
            <div style="background: rgba(233, 171, 33, 0.15); padding: 6px 12px; border-radius: 6px; margin-bottom: 10px; border-left: 4px solid var(--uide-accent);">
                <p style="margin: 0; font-size: 0.8rem; color: #e2e8f0;">
                    <i class="fas fa-university"></i> <strong>Caso:</strong> Valida que el tiempo promedio entre llegadas sea consistente con datos reales
                </p>
            </div>
            
            <div style="display: grid; grid-template-columns: 25% 50% 25%; gap: 15px; height: calc(100vh - 250px); max-height: 590px;">
                <!-- Columna 1: Prueba de Medias -->
                <div style="display: flex; flex-direction: column; gap: 10px; height: 100%;">
                    <div class="feature-card" style="flex: 1; display: flex; flex-direction: column;">
                        <h3 style="font-size: 1rem; margin-bottom: 8px;">Prueba de Medias</h3>
                        <ul style="font-size: 0.8rem; line-height: 1.4; margin: 0; padding-left: 18px; flex: 1;">
                            <li><strong>H<sub>0</sub></strong>: Œº = 0.5</li>
                            <li><strong>Fundamento</strong>: Datos uniformes ‚Üí promedio = 0.5</li>
                            <li><strong>Detecta</strong>: Sesgo en generaci√≥n</li>
                        </ul>
                        <div style="background: rgba(233, 171, 33, 0.1); padding: 6px; border-radius: 6px; margin-top: 8px; font-size: 0.75rem; border-left: 3px solid var(--uide-accent);">
                            <i class="fas fa-university"></i> <strong>Banco:</strong> Verifica que el tiempo promedio simulado sea correcto
                        </div>
                        <div style="background: rgba(35, 53, 110, 0.2); padding: 6px; border-radius: 6px; border: 1px solid rgba(233, 171, 33, 0.2); margin-top: 8px;">
                            <div style="font-size: 0.7rem; line-height: 1.3;">
                                <div style="margin-bottom: 3px;">
                                    <span style="color: #4ade80;">üìä Excel:</span>
                                    <code style="background: rgba(0,0,0,0.3); padding: 1px 4px; border-radius: 3px; font-size: 0.65rem; color: #e2e8f0; display: block; margin-top: 2px;">=AVERAGE(rango)</code>
                                    <code style="background: rgba(0,0,0,0.25); padding: 1px 4px; border-radius: 3px; font-size: 0.6rem; color: #cbd5e1; display: block; margin-top: 2px; font-style: italic;">=PROMEDIO(rango)</code>
                                </div>
                                <div>
                                    <span style="color: #60a5fa;">üìà R:</span>
                                    <code style="background: rgba(0,0,0,0.3); padding: 1px 4px; border-radius: 3px; font-size: 0.65rem; color: #e2e8f0; display: block; margin-top: 2px;">mean(x)</code>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Columna 2: Visualizaci√≥n (Centro) -->
                <div style="background: rgba(15, 20, 25, 0.6); border-radius: 10px; border: 2px solid var(--uide-accent); padding: 12px; display: flex; flex-direction: column; height: 100%; min-height: 0;">
                    <h3 style="text-align: center; color: var(--uide-accent); margin: 0 0 10px 0; font-size: 0.95rem; flex-shrink: 0;">
                        <i class="fas fa-tachometer-alt"></i> Medidores de Convergencia
                    </h3>
                    
                    <!-- Gauges -->
                    <div style="flex: 1; display: flex; flex-direction: column; gap: 15px; justify-content: center; min-height: 0;">
                        <!-- Gauge de Media -->
                        <div style="background: rgba(0,0,0,0.3); border-radius: 8px; padding: 12px;">
                            <h4 style="text-align: center; color: #4ade80; margin: 0 0 8px 0; font-size: 0.9rem;">Media (Œº)</h4>
                            <div style="position: relative; height: 150px; display: flex; align-items: center; justify-content: center;">
                                <canvas id="meanGauge" width="280" height="150"></canvas>
                            </div>
                            <div style="text-align: center; margin-top: 8px;">
                                <div style="font-size: 0.75rem; color: #94a3b8;">Valor calculado</div>
                                <div id="meanValue" style="font-size: 1.2rem; font-weight: 600; color: #4ade80;">-</div>
                                <div style="font-size: 0.7rem; color: #64748b;">Te√≥rico: 0.5000</div>
                            </div>
                        </div>

                        <!-- Gauge de Varianza -->
                        <div style="background: rgba(0,0,0,0.3); border-radius: 8px; padding: 12px;">
                            <h4 style="text-align: center; color: #60a5fa; margin: 0 0 8px 0; font-size: 0.9rem;">Varianza (œÉ¬≤)</h4>
                            <div style="position: relative; height: 150px; display: flex; align-items: center; justify-content: center;">
                                <canvas id="varianceGauge" width="280" height="150"></canvas>
                            </div>
                            <div style="text-align: center; margin-top: 8px;">
                                <div style="font-size: 0.75rem; color: #94a3b8;">Valor calculado</div>
                                <div id="varianceValue" style="font-size: 1.2rem; font-weight: 600; color: #60a5fa;">-</div>
                                <div style="font-size: 0.7rem; color: #64748b;">Te√≥rico: 0.0833</div>
                            </div>
                        </div>
                    </div>

                    <!-- Control -->
                    <div style="text-align: center; margin-top: 10px; flex-shrink: 0;">
                        <button id="generateMeanVarBtn" style="padding: 8px 16px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 6px; font-weight: 600; font-size: 0.85rem; cursor: pointer; transition: all 0.3s;">
                            <i class="fas fa-play"></i> Generar y Medir
                        </button>
                        <div style="margin-top: 6px; font-size: 0.75rem;">
                            <label style="color: #e2e8f0;">n = </label>
                            <input type="number" id="meanVarCount" value="100" min="50" max="1000" step="50"
                                   style="width: 65px; padding: 3px; background: rgba(255,255,255,0.1); border: 1px solid var(--uide-accent); color: white; border-radius: 4px; font-size: 0.75rem;">
                        </div>
                    </div>
                </div>

                <!-- Columna 3: Prueba de Varianzas -->
                <div style="display: flex; flex-direction: column; gap: 10px; height: 100%;">
                    <div class="feature-card" style="flex: 1; display: flex; flex-direction: column;">
                        <h3 style="font-size: 1rem; margin-bottom: 8px;">Prueba de Varianzas</h3>
                        <ul style="font-size: 0.8rem; line-height: 1.4; margin: 0; padding-left: 18px; flex: 1;">
                            <li><strong>H<sub>0</sub></strong>: œÉ¬≤ = 1/12</li>
                            <li><strong>Fundamento</strong>: Teor√≠a de U(0,1)</li>
                            <li><strong>Detecta</strong>: Dispersi√≥n anormal</li>
                        </ul>
                        <div style="background: rgba(96, 165, 250, 0.1); padding: 6px; border-radius: 6px; margin-top: 8px; font-size: 0.75rem; border-left: 3px solid var(--uide-primary);">
                            <i class="fas fa-university"></i> <strong>Banco:</strong> Confirma que la variabilidad de llegadas sea realista
                        </div>
                        <div style="background: rgba(35, 53, 110, 0.2); padding: 6px; border-radius: 6px; border: 1px solid rgba(96, 165, 250, 0.2); margin-top: 8px;">
                            <div style="font-size: 0.7rem; line-height: 1.3;">
                                <div style="margin-bottom: 3px;">
                                    <span style="color: #4ade80;">üìä Excel:</span>
                                    <code style="background: rgba(0,0,0,0.3); padding: 1px 4px; border-radius: 3px; font-size: 0.65rem; color: #e2e8f0; display: block; margin-top: 2px;">=VAR.P(rango)</code>
                                    <code style="background: rgba(0,0,0,0.25); padding: 1px 4px; border-radius: 3px; font-size: 0.6rem; color: #cbd5e1; display: block; margin-top: 2px; font-style: italic;">=VAR.P(rango)</code>
                                </div>
                                <div>
                                    <span style="color: #60a5fa;">üìà R:</span>
                                    <code style="background: rgba(0,0,0,0.3); padding: 1px 4px; border-radius: 3px; font-size: 0.65rem; color: #e2e8f0; display: block; margin-top: 2px;">var(x)</code>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>
        // Pruebas de Medias y Varianzas con Gauges
        document.addEventListener('DOMContentLoaded', function() {
            const generateMeanVarBtn = document.getElementById('generateMeanVarBtn');
            
            if (generateMeanVarBtn) {
                generateMeanVarBtn.addEventListener('click', function() {
                    const n = parseInt(document.getElementById('meanVarCount').value) || 100;
                    performMeanVarianceTest(n);
                });
            }
        });

        function performMeanVarianceTest(n) {
            // Generar n√∫meros uniformes
            const a = 1103515245;
            const c = 12345;
            const m = Math.pow(2, 31);
            let x = Date.now() % m;
            
            const numbers = [];
            for (let i = 0; i < n; i++) {
                x = (a * x + c) % m;
                numbers.push(x / m);
            }
            
            // Calcular media
            const mean = numbers.reduce((sum, num) => sum + num, 0) / n;
            
            // Calcular varianza
            const variance = numbers.reduce((sum, num) => sum + Math.pow(num - mean, 2), 0) / n;
            
            // Actualizar valores
            document.getElementById('meanValue').textContent = mean.toFixed(4);
            document.getElementById('varianceValue').textContent = variance.toFixed(4);
            
            // Dibujar gauges
            drawGauge('meanGauge', mean, 0.5, 0.3, 0.7, '#4ade80');
            drawGauge('varianceGauge', variance, 0.0833, 0.05, 0.12, '#60a5fa');
        }

        function drawGauge(canvasId, value, target, min, max, color) {
            const canvas = document.getElementById(canvasId);
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const centerX = canvas.width / 2;
            const centerY = canvas.height - 20;
            const radius = 100;
            
            // Limpiar canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Dibujar arco de fondo
            const startAngle = Math.PI;
            const endAngle = 2 * Math.PI;
            
            // Zona roja (fuera de rango)
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, startAngle, endAngle);
            ctx.lineWidth = 20;
            ctx.strokeStyle = 'rgba(248, 113, 113, 0.3)';
            ctx.stroke();
            
            // Zona verde (rango aceptable: ¬±10% del target)
            const greenMin = target * 0.9;
            const greenMax = target * 1.1;
            const greenStartAngle = startAngle + ((greenMin - min) / (max - min)) * Math.PI;
            const greenEndAngle = startAngle + ((greenMax - min) / (max - min)) * Math.PI;
            
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, greenStartAngle, greenEndAngle);
            ctx.lineWidth = 20;
            ctx.strokeStyle = 'rgba(74, 222, 128, 0.5)';
            ctx.stroke();
            
            // L√≠nea del valor objetivo
            const targetAngle = startAngle + ((target - min) / (max - min)) * Math.PI;
            const targetX = centerX + radius * Math.cos(targetAngle);
            const targetY = centerY + radius * Math.sin(targetAngle);
            
            ctx.strokeStyle = '#fbbf24';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.lineTo(targetX, targetY);
            ctx.stroke();
            
            // Aguja del valor actual
            const clampedValue = Math.max(min, Math.min(max, value));
            const valueAngle = startAngle + ((clampedValue - min) / (max - min)) * Math.PI;
            const needleLength = radius - 10;
            const needleX = centerX + needleLength * Math.cos(valueAngle);
            const needleY = centerY + needleLength * Math.sin(valueAngle);
            
            ctx.strokeStyle = color;
            ctx.lineWidth = 4;
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.lineTo(needleX, needleY);
            ctx.stroke();
            
            // C√≠rculo central
            ctx.fillStyle = color;
            ctx.beginPath();
            ctx.arc(centerX, centerY, 8, 0, 2 * Math.PI);
            ctx.fill();
            
            // Etiquetas de escala
            ctx.fillStyle = '#94a3b8';
            ctx.font = '10px Arial';
            ctx.textAlign = 'center';
            
            // Min
            ctx.fillText(min.toFixed(2), centerX - radius - 10, centerY + 5);
            // Max
            ctx.fillText(max.toFixed(2), centerX + radius + 10, centerY + 5);
            // Target
            ctx.fillStyle = '#fbbf24';
            ctx.fillText(target.toFixed(4), centerX, centerY + 25);
        }
        </script>

        <!-- Slide 13: Implementaci√≥n en Excel -->
        <div class="slide">
            <h2 style="margin-bottom: 1rem;"><i class="fas fa-file-excel"></i> Implementaci√≥n en Excel</h2>
            
            <div style="display: grid; grid-template-columns: 30% 70%; gap: 20px; height: calc(100vh - 220px); max-height: 620px;">
                <!-- Columna Izquierda: Teor√≠a -->
                <div style="display: flex; flex-direction: column; gap: 10px; height: 100%;">
                    <div style="flex-shrink: 0;">
                        <h3 style="font-size: 1rem; margin-bottom: 6px;">Funci√≥n Incorporada</h3>
                        <div class="code-block" style="font-size: 0.8rem; padding: 8px;">=ALEATORIO()
o
=RAND()</div>
                        <ul style="font-size: 0.8rem; line-height: 1.4; margin: 8px 0 0 0; padding-left: 18px;">
                            <li>Funci√≥n "vol√°til" (F9)</li>
                            <li>Rango: [0, 1]</li>
                        </ul>
                    </div>
                    
                    <div style="flex-shrink: 0;">
                        <h3 style="font-size: 1rem; margin-bottom: 6px;">F√≥rmula GCL</h3>
                        <div class="code-block" style="font-size: 0.7rem; padding: 8px; word-break: break-all;">=(D$3*C10+D$4)/D$5-ENTERO((D$3*C10+D$4)/D$5))*D$5</div>
                    </div>

                    <div style="background: rgba(233, 171, 33, 0.1); padding: 8px; border-radius: 8px; border-left: 4px solid var(--uide-accent); flex-shrink: 0;">
                        <p style="font-size: 0.75rem; margin: 0; line-height: 1.3;">
                            <strong>Referencias:</strong><br>
                            D$3=a, D$4=c, D$5=m<br>
                            C10=X<sub>i</sub>
                        </p>
                    </div>

                    <div style="text-align: center; margin-top: auto; flex-shrink: 0;">
                        <button id="generateExcelBtn" style="padding: 8px 12px; background: #217346; color: white; border: none; border-radius: 6px; font-weight: 600; font-size: 0.85rem; cursor: pointer; transition: all 0.3s; width: 100%;">
                            <i class="fas fa-play"></i> Simular Excel
                        </button>
                        <div style="margin-top: 6px; font-size: 0.75rem;">
                            <label style="color: #e2e8f0;">Filas: </label>
                            <input type="number" id="excelRows" value="10" min="5" max="20"
                                   style="width: 60px; padding: 3px; background: rgba(255,255,255,0.1); border: 1px solid #217346; color: white; border-radius: 4px; font-size: 0.75rem;">
                        </div>
                    </div>
                </div>

                <!-- Columna Derecha: Simulaci√≥n de Hoja de C√°lculo -->
                <div style="background: rgba(15, 20, 25, 0.6); border-radius: 10px; border: 2px solid #217346; padding: 12px; display: flex; flex-direction: column; height: 100%; min-height: 0;">
                    <h3 style="text-align: center; color: #217346; margin: 0 0 10px 0; font-size: 0.95rem; flex-shrink: 0;">
                        <i class="fas fa-table"></i> Simulaci√≥n de Hoja de C√°lculo Excel
                    </h3>
                    
                    <!-- Tabla simulada de Excel -->
                    <div style="flex: 1; background: #ffffff; border-radius: 8px; padding: 0; overflow: auto; min-height: 0; border: 1px solid #d0d0d0;">
                        <table id="excelTable" style="width: 100%; border-collapse: collapse; font-family: 'Calibri', 'Arial', sans-serif; font-size: 0.75rem;">
                            <thead style="position: sticky; top: 0; background: #f0f0f0; z-index: 1;">
                                <tr>
                                    <th style="border: 1px solid #d0d0d0; padding: 4px 8px; color: #000; text-align: center; background: #f0f0f0; font-weight: 600; min-width: 40px;"></th>
                                    <th style="border: 1px solid #d0d0d0; padding: 4px 8px; color: #000; text-align: center; background: #f0f0f0; font-weight: 600; min-width: 50px;">A</th>
                                    <th style="border: 1px solid #d0d0d0; padding: 4px 8px; color: #000; text-align: center; background: #f0f0f0; font-weight: 600; min-width: 60px;">B</th>
                                    <th style="border: 1px solid #d0d0d0; padding: 4px 8px; color: #000; text-align: center; background: #f0f0f0; font-weight: 600; min-width: 180px;">C</th>
                                    <th style="border: 1px solid #d0d0d0; padding: 4px 8px; color: #000; text-align: center; background: #f0f0f0; font-weight: 600; min-width: 80px;">D</th>
                                </tr>
                            </thead>
                            <tbody id="excelTableBody">
                                <tr>
                                    <td colspan="5" style="text-align: center; padding: 20px; color: #666; font-style: italic; background: #fff;">
                                        Presiona "Simular Excel" para generar la tabla...
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Mini histograma -->
                    <div style="margin-top: 10px; flex-shrink: 0;">
                        <div style="background: rgba(0,0,0,0.3); border-radius: 6px; padding: 8px; height: 80px;">
                            <canvas id="excelMiniHistogram"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>
        // Simulaci√≥n de Excel
        document.addEventListener('DOMContentLoaded', function() {
            const generateExcelBtn = document.getElementById('generateExcelBtn');
            
            if (generateExcelBtn) {
                generateExcelBtn.addEventListener('click', function() {
                    const rows = parseInt(document.getElementById('excelRows').value) || 10;
                    simulateExcel(rows);
                });
            }
        });

        function simulateExcel(rows) {
            const a = 5;
            const c = 3;
            const m = 16;
            let x = 7; // Semilla
            
            const tbody = document.getElementById('excelTableBody');
            tbody.innerHTML = '';
            
            const numbers = [];
            
            // Fila 1: Encabezados
            let tr = document.createElement('tr');
            tr.innerHTML = `
                <td style="border: 1px solid #d0d0d0; padding: 4px 8px; text-align: center; background: #f0f0f0; color: #000; font-weight: 600;">1</td>
                <td style="border: 1px solid #d0d0d0; padding: 4px 8px; text-align: center; background: #fff; color: #000; font-weight: 600;">i</td>
                <td style="border: 1px solid #d0d0d0; padding: 4px 8px; text-align: center; background: #fff; color: #000; font-weight: 600;">X<sub>i</sub></td>
                <td style="border: 1px solid #d0d0d0; padding: 4px 8px; text-align: center; background: #fff; color: #000; font-weight: 600;">F√≥rmula GCL</td>
                <td style="border: 1px solid #d0d0d0; padding: 4px 8px; text-align: center; background: #fff; color: #000; font-weight: 600;">R<sub>i</sub></td>
            `;
            tbody.appendChild(tr);
            
            // Fila 2: Par√°metros
            tr = document.createElement('tr');
            tr.innerHTML = `
                <td style="border: 1px solid #d0d0d0; padding: 4px 8px; text-align: center; background: #f0f0f0; color: #000; font-weight: 600;">2</td>
                <td style="border: 1px solid #d0d0d0; padding: 4px 8px; text-align: center; background: #fff9e6; color: #000;">Params</td>
                <td style="border: 1px solid #d0d0d0; padding: 4px 8px; text-align: center; background: #fff9e6; color: #000;">a=${a}, c=${c}, m=${m}</td>
                <td style="border: 1px solid #d0d0d0; padding: 4px 8px; text-align: center; background: #fff9e6; color: #000;">Semilla</td>
                <td style="border: 1px solid #d0d0d0; padding: 4px 8px; text-align: center; background: #fff9e6; color: #000; font-weight: 600;">${x}</td>
            `;
            tbody.appendChild(tr);
            
            // Generar filas con animaci√≥n
            let currentRow = 0;
            const startRow = 3;
            
            const interval = setInterval(() => {
                if (currentRow >= rows) {
                    clearInterval(interval);
                    drawMiniHistogram(numbers);
                    return;
                }
                
                const xNext = (a * x + c) % m;
                const r = (xNext / m).toFixed(4);
                numbers.push(parseFloat(r));
                
                const excelRow = startRow + currentRow;
                const prevRow = excelRow - 1;
                const formula = `=(${a}*B${prevRow}+${c}) MOD ${m}`;
                
                tr = document.createElement('tr');
                tr.style.opacity = '0';
                tr.style.transition = 'opacity 0.3s';
                
                tr.innerHTML = `
                    <td style="border: 1px solid #d0d0d0; padding: 4px 8px; text-align: center; background: #f0f0f0; color: #000; font-weight: 600;">${excelRow}</td>
                    <td style="border: 1px solid #d0d0d0; padding: 4px 8px; text-align: center; background: #fff; color: #000;">${currentRow}</td>
                    <td style="border: 1px solid #d0d0d0; padding: 4px 8px; text-align: center; background: #fff; color: #217346; font-weight: 600;">${xNext}</td>
                    <td style="border: 1px solid #d0d0d0; padding: 4px 8px; text-align: left; background: #fff; color: #000; font-size: 0.7rem;">${formula}</td>
                    <td style="border: 1px solid #d0d0d0; padding: 4px 8px; text-align: center; background: #fff; color: #0066cc; font-weight: 600;">${r}</td>
                `;
                
                tbody.appendChild(tr);
                setTimeout(() => tr.style.opacity = '1', 10);
                
                x = xNext;
                currentRow++;
            }, 200);
        }

        function drawMiniHistogram(numbers) {
            const canvas = document.getElementById('excelMiniHistogram');
            if (!canvas) return;
            
            const rect = canvas.parentElement.getBoundingClientRect();
            canvas.width = rect.width - 10;
            canvas.height = rect.height - 10;
            
            const ctx = canvas.getContext('2d');
            const bins = 10;
            const binCounts = new Array(bins).fill(0);
            
            numbers.forEach(num => {
                const binIndex = Math.min(Math.floor(num * bins), bins - 1);
                binCounts[binIndex]++;
            });
            
            const maxCount = Math.max(...binCounts);
            const barWidth = canvas.width / bins;
            const heightScale = (canvas.height - 10) / maxCount;
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            binCounts.forEach((count, i) => {
                const barHeight = count * heightScale;
                const x = i * barWidth;
                const y = canvas.height - barHeight;
                
                ctx.fillStyle = 'rgba(33, 115, 70, 0.7)';
                ctx.fillRect(x + 1, y, barWidth - 2, barHeight);
                
                ctx.strokeStyle = '#217346';
                ctx.lineWidth = 1;
                ctx.strokeRect(x + 1, y, barWidth - 2, barHeight);
            });
        }
        </script>


        <!-- Slide 14: Implementaci√≥n en R -->
        <div class="slide">
            <h2><i class="fab fa-r-project"></i> Implementaci√≥n en R</h2>
            <div style="display: grid; grid-template-columns: 35% 65%; gap: 20px; height: calc(100% - 80px); align-items: stretch;">
                <!-- Columna Izquierda: Explicaci√≥n -->
                <div style="display: flex; flex-direction: column; gap: 12px; overflow: hidden;">
                    <h3 style="margin: 0 0 8px 0; font-size: 1.1rem;">Generaci√≥n B√°sica</h3>
                    <ul style="font-size: 0.85rem; line-height: 1.5; margin: 0; padding-left: 20px;">
                        <li><strong>runif(n)</strong>: Genera n n√∫meros U(0,1)</li>
                        <li><strong>set.seed()</strong>: Fija semilla</li>
                        <li><strong>Mersenne-Twister</strong>: Generador por defecto</li>
                    </ul>
                    
                    <h3 style="margin: 10px 0 8px 0; font-size: 1.1rem;">Implementaci√≥n GCL</h3>
                    <ul style="font-size: 0.85rem; line-height: 1.5; margin: 0; padding-left: 20px;">
                        <li>Funci√≥n recursiva manual</li>
                        <li>Paquete <strong>simres</strong></li>
                    </ul>
                    
                    <div style="background: rgba(233, 171, 33, 0.1); padding: 10px; border-radius: 8px; border-left: 4px solid var(--uide-accent); margin-top: auto;">
                        <p style="font-size: 0.8rem; margin: 0; line-height: 1.3;">
                            <i class="fas fa-info-circle"></i> R proporciona generadores de alta calidad
                        </p>
                    </div>
                </div>
                
                <!-- Columna Derecha: C√≥digo -->
                <div style="background: #1e1e1e; padding: 15px; border-radius: 10px; font-family: 'Consolas', 'Monaco', monospace; font-size: 0.7rem; line-height: 1.4; display: flex; flex-direction: column; justify-content: center; overflow-y: auto; max-height: 100%;">
<pre style="margin: 0; color: #d4d4d4;"><span style="color: #6a9955;"># N√∫meros uniformes U(0,1)</span>
<span style="color: #dcdcaa;">runif</span>(<span style="color: #9cdcfe;">n</span>)
<span style="color: #dcdcaa;">set.seed</span>(<span style="color: #b5cea8;">123</span>)  <span style="color: #6a9955;"># Reproducibilidad</span>

<span style="color: #6a9955;"># Variable Uniforme en [a,b]</span>
<span style="color: #9cdcfe;">u</span> <span style="color: #d4d4d4;">&lt;-</span> <span style="color: #dcdcaa;">runif</span>(<span style="color: #9cdcfe;">n</span>)
<span style="color: #9cdcfe;">x</span> <span style="color: #d4d4d4;">&lt;-</span> <span style="color: #9cdcfe;">a</span> <span style="color: #d4d4d4;">+</span> <span style="color: #9cdcfe;">u</span> <span style="color: #d4d4d4;">*</span> (<span style="color: #9cdcfe;">b</span> <span style="color: #d4d4d4;">-</span> <span style="color: #9cdcfe;">a</span>)

<span style="color: #6a9955;"># Implementaci√≥n GCL manual</span>
<span style="color: #9cdcfe;">gcl_mixto</span> <span style="color: #d4d4d4;">&lt;-</span> <span style="color: #c586c0;">function</span>(<span style="color: #9cdcfe;">n</span>, <span style="color: #9cdcfe;">a</span>, <span style="color: #9cdcfe;">c</span>, <span style="color: #9cdcfe;">m</span>, <span style="color: #9cdcfe;">seed</span>) {
  <span style="color: #9cdcfe;">x</span> <span style="color: #d4d4d4;">&lt;-</span> <span style="color: #dcdcaa;">numeric</span>(<span style="color: #9cdcfe;">n</span>)
  <span style="color: #9cdcfe;">x</span>[<span style="color: #b5cea8;">1</span>] <span style="color: #d4d4d4;">&lt;-</span> <span style="color: #9cdcfe;">seed</span>
  <span style="color: #c586c0;">for</span>(<span style="color: #9cdcfe;">i</span> <span style="color: #c586c0;">in</span> <span style="color: #b5cea8;">2</span><span style="color: #d4d4d4;">:</span><span style="color: #9cdcfe;">n</span>) {
    <span style="color: #9cdcfe;">x</span>[<span style="color: #9cdcfe;">i</span>] <span style="color: #d4d4d4;">&lt;-</span> (<span style="color: #9cdcfe;">a</span> <span style="color: #d4d4d4;">*</span> <span style="color: #9cdcfe;">x</span>[<span style="color: #9cdcfe;">i</span><span style="color: #d4d4d4;">-</span><span style="color: #b5cea8;">1</span>] <span style="color: #d4d4d4;">+</span> <span style="color: #9cdcfe;">c</span>) <span style="color: #d4d4d4;">%%</span> <span style="color: #9cdcfe;">m</span>
  }
  <span style="color: #c586c0;">return</span>(<span style="color: #9cdcfe;">x</span><span style="color: #d4d4d4;">/</span><span style="color: #9cdcfe;">m</span>)
}

<span style="color: #6a9955;"># Ejemplo</span>
<span style="color: #9cdcfe;">nums</span> <span style="color: #d4d4d4;">&lt;-</span> <span style="color: #dcdcaa;">gcl_mixto</span>(<span style="color: #b5cea8;">100</span>, <span style="color: #b5cea8;">1103515245</span>, <span style="color: #b5cea8;">12345</span>, <span style="color: #b5cea8;">2</span><span style="color: #d4d4d4;">^</span><span style="color: #b5cea8;">31</span>, <span style="color: #b5cea8;">42</span>)</pre>
                </div>
            </div>
        </div>

        <!-- Slide 15: Validaci√≥n Pr√°ctica -->
        <div class="slide">
            <h2 style="margin-bottom: 0.8rem;"><i class="fas fa-check-circle"></i> Validaci√≥n Pr√°ctica - Dashboard Completo</h2>
            
            <div style="height: calc(100vh - 200px); max-height: 640px; display: flex; flex-direction: column; gap: 12px;">
                <!-- Controles superiores -->
                <div style="display: flex; gap: 10px; align-items: center; justify-content: center; flex-shrink: 0;">
                    <button id="runAllTestsBtn" style="padding: 10px 24px; background: var(--uide-accent); color: #0f1419; border: none; border-radius: 8px; font-weight: 600; font-size: 0.95rem; cursor: pointer; transition: all 0.3s;">
                        <i class="fas fa-play-circle"></i> Ejecutar Todas las Pruebas
                    </button>
                    <div style="font-size: 0.8rem;">
                        <label style="color: #e2e8f0;">n = </label>
                        <input type="number" id="dashboardN" value="100" min="50" max="500" step="50"
                               style="width: 70px; padding: 5px; background: rgba(255,255,255,0.1); border: 1px solid var(--uide-accent); color: white; border-radius: 4px; font-size: 0.8rem;">
                    </div>
                </div>

                <!-- Grid de 4 paneles -->
                <div style="flex: 1; display: grid; grid-template-columns: 1fr 1fr; grid-template-rows: 1fr 1fr; gap: 12px; min-height: 0;">
                    <!-- Panel 1: Histograma de Uniformidad -->
                    <div style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid var(--uide-accent); padding: 10px; display: flex; flex-direction: column; min-height: 0;">
                        <h3 style="text-align: center; color: var(--uide-accent); margin: 0 0 8px 0; font-size: 0.85rem; flex-shrink: 0;">
                            <i class="fas fa-chart-bar"></i> Uniformidad (Histograma)
                        </h3>
                        <div style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 6px; min-height: 0; display: flex; align-items: center; justify-content: center;">
                            <canvas id="dashHistogram"></canvas>
                        </div>
                        <div id="dashHistResult" style="text-align: center; margin-top: 6px; font-size: 0.75rem; font-weight: 600; flex-shrink: 0;">-</div>
                    </div>

                    <!-- Panel 2: Scatter Plot de Independencia -->
                    <div style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid var(--uide-primary); padding: 10px; display: flex; flex-direction: column; min-height: 0;">
                        <h3 style="text-align: center; color: var(--uide-primary); margin: 0 0 8px 0; font-size: 0.85rem; flex-shrink: 0;">
                            <i class="fas fa-chart-scatter"></i> Independencia (Scatter)
                        </h3>
                        <div style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 6px; min-height: 0; display: flex; align-items: center; justify-content: center;">
                            <canvas id="dashScatter"></canvas>
                        </div>
                        <div id="dashScatterResult" style="text-align: center; margin-top: 6px; font-size: 0.75rem; font-weight: 600; flex-shrink: 0;">-</div>
                    </div>

                    <!-- Panel 3: Prueba K-S -->
                    <div style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #60a5fa; padding: 10px; display: flex; flex-direction: column; min-height: 0;">
                        <h3 style="text-align: center; color: #60a5fa; margin: 0 0 8px 0; font-size: 0.85rem; flex-shrink: 0;">
                            <i class="fas fa-chart-line"></i> Kolmogorov-Smirnov
                        </h3>
                        <div style="flex: 1; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 6px; min-height: 0; display: flex; align-items: center; justify-content: center;">
                            <canvas id="dashKS"></canvas>
                        </div>
                        <div id="dashKSResult" style="text-align: center; margin-top: 6px; font-size: 0.75rem; font-weight: 600; flex-shrink: 0;">-</div>
                    </div>

                    <!-- Panel 4: Resultado Final -->
                    <div style="background: rgba(15, 20, 25, 0.6); border-radius: 8px; border: 2px solid #fbbf24; padding: 10px; display: flex; flex-direction: column; min-height: 0;">
                        <h3 style="text-align: center; color: #fbbf24; margin: 0 0 8px 0; font-size: 0.85rem; flex-shrink: 0;">
                            <i class="fas fa-clipboard-check"></i> Resultado Final
                        </h3>
                        <div style="flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 10px;">
                            <div id="dashFinalResult" style="font-size: 2rem; font-weight: 700; text-align: center;">
                                <i class="fas fa-hourglass-half" style="color: #94a3b8;"></i>
                            </div>
                            <div id="dashFinalText" style="font-size: 0.9rem; text-align: center; color: #cbd5e1;">
                                Esperando pruebas...
                            </div>
                            <div id="dashTestsSummary" style="font-size: 0.75rem; text-align: center; color: #94a3b8; margin-top: 10px;">
                                <!-- Resumen de pruebas -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>
        // Dashboard de Validaci√≥n Completo
        document.addEventListener('DOMContentLoaded', function() {
            const runAllTestsBtn = document.getElementById('runAllTestsBtn');
            
            if (runAllTestsBtn) {
                runAllTestsBtn.addEventListener('click', function() {
                    const n = parseInt(document.getElementById('dashboardN').value) || 100;
                    runAllValidationTests(n);
                });
            }
        });

        function runAllValidationTests(n) {
            // Generar n√∫meros
            const a = 1103515245;
            const c = 12345;
            const m = Math.pow(2, 31);
            let x = Date.now() % m;
            
            const numbers = [];
            for (let i = 0; i < n; i++) {
                x = (a * x + c) % m;
                numbers.push(x / m);
            }
            
            // Ejecutar todas las pruebas
            const results = {
                histogram: testHistogram(numbers),
                scatter: testScatter(numbers),
                ks: testKS(numbers)
            };
            
            // Mostrar resultado final
            showFinalResult(results);
        }

        function testHistogram(numbers) {
            const canvas = document.getElementById('dashHistogram');
            if (!canvas) return { passed: false };
            
            const ctx = canvas.getContext('2d');
            const rect = canvas.parentElement.getBoundingClientRect();
            canvas.width = Math.max(rect.width - 10, 150);
            canvas.height = Math.max(rect.height - 10, 150);
            
            const bins = 10;
            const binCounts = new Array(bins).fill(0);
            numbers.forEach(num => {
                const binIndex = Math.min(Math.floor(num * bins), bins - 1);
                binCounts[binIndex]++;
            });
            
            const expected = numbers.length / bins;
            let chiSquare = 0;
            binCounts.forEach(fo => {
                chiSquare += Math.pow(fo - expected, 2) / expected;
            });
            
            const critical = 16.919; // Œ±=0.05, df=9
            const passed = chiSquare <= critical;
            
            // Dibujar histograma mini
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            const maxCount = Math.max(...binCounts);
            const barWidth = canvas.width / bins;
            const heightScale = (canvas.height - 20) / maxCount;
            
            binCounts.forEach((count, i) => {
                const barHeight = count * heightScale;
                const x = i * barWidth;
                const y = canvas.height - barHeight - 10;
                
                ctx.fillStyle = passed ? 'rgba(74, 222, 128, 0.7)' : 'rgba(248, 113, 113, 0.7)';
                ctx.fillRect(x + 1, y, barWidth - 2, barHeight);
            });
            
            document.getElementById('dashHistResult').innerHTML = passed 
                ? '<span style="color: #4ade80;"><i class="fas fa-check-circle"></i> Pasa œá¬≤</span>' 
                : '<span style="color: #f87171;"><i class="fas fa-times-circle"></i> Falla œá¬≤</span>';
            
            return { passed, value: chiSquare, critical };
        }

        function testScatter(numbers) {
            const canvas = document.getElementById('dashScatter');
            if (!canvas) return { passed: false };
            
            const ctx = canvas.getContext('2d');
            const rect = canvas.parentElement.getBoundingClientRect();
            canvas.width = Math.max(rect.width - 10, 150);
            canvas.height = Math.max(rect.height - 10, 150);
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Calcular correlaci√≥n
            const pairs = [];
            for (let i = 0; i < numbers.length - 1; i++) {
                pairs.push({ x: numbers[i], y: numbers[i + 1] });
            }
            
            const meanX = pairs.reduce((sum, p) => sum + p.x, 0) / pairs.length;
            const meanY = pairs.reduce((sum, p) => sum + p.y, 0) / pairs.length;
            
            let numerator = 0, denomX = 0, denomY = 0;
            pairs.forEach(p => {
                const dx = p.x - meanX;
                const dy = p.y - meanY;
                numerator += dx * dy;
                denomX += dx * dx;
                denomY += dy * dy;
            });
            
            const correlation = numerator / Math.sqrt(denomX * denomY);
            const passed = Math.abs(correlation) < 0.3;
            
            // Dibujar scatter plot mini
            const padding = 15;
            const plotWidth = canvas.width - 2 * padding;
            const plotHeight = canvas.height - 2 * padding;
            
            pairs.forEach(pair => {
                const px = padding + pair.x * plotWidth;
                const py = canvas.height - padding - pair.y * plotHeight;
                
                ctx.fillStyle = passed ? 'rgba(145, 0, 72, 0.6)' : 'rgba(248, 113, 113, 0.6)';
                ctx.beginPath();
                ctx.arc(px, py, 1.5, 0, 2 * Math.PI);
                ctx.fill();
            });
            
            document.getElementById('dashScatterResult').innerHTML = passed 
                ? '<span style="color: #4ade80;"><i class="fas fa-check-circle"></i> Independiente</span>' 
                : '<span style="color: #f87171;"><i class="fas fa-times-circle"></i> Correlaci√≥n</span>';
            
            return { passed, value: correlation };
        }

        function testKS(numbers) {
            const canvas = document.getElementById('dashKS');
            if (!canvas) return { passed: false };
            
            const ctx = canvas.getContext('2d');
            const rect = canvas.parentElement.getBoundingClientRect();
            canvas.width = Math.max(rect.width - 10, 150);
            canvas.height = Math.max(rect.height - 10, 150);
            
            const sorted = [...numbers].sort((a, b) => a - b);
            const empirical = sorted.map((val, i) => ({ x: val, y: (i + 1) / numbers.length }));
            
            let maxD = 0;
            empirical.forEach((point, i) => {
                const theoretical = point.x;
                const d1 = Math.abs(point.y - theoretical);
                const d2 = Math.abs((i / numbers.length) - theoretical);
                maxD = Math.max(maxD, d1, d2);
            });
            
            const critical = 1.36 / Math.sqrt(numbers.length);
            const passed = maxD <= critical;
            
            // Dibujar K-S mini
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            const padding = 15;
            const plotWidth = canvas.width - 2 * padding;
            const plotHeight = canvas.height - 2 * padding;
            
            // L√≠nea te√≥rica
            ctx.strokeStyle = '#60a5fa';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(padding, canvas.height - padding);
            ctx.lineTo(canvas.width - padding, padding);
            ctx.stroke();
            
            // L√≠nea emp√≠rica
            ctx.strokeStyle = passed ? '#4ade80' : '#f87171';
            ctx.lineWidth = 2;
            ctx.beginPath();
            let prevX = padding, prevY = canvas.height - padding;
            empirical.forEach(point => {
                const x = padding + point.x * plotWidth;
                const y = canvas.height - padding - point.y * plotHeight;
                ctx.lineTo(x, prevY);
                ctx.lineTo(x, y);
                prevX = x;
                prevY = y;
            });
            ctx.stroke();
            
            document.getElementById('dashKSResult').innerHTML = passed 
                ? '<span style="color: #4ade80;"><i class="fas fa-check-circle"></i> Pasa K-S</span>' 
                : '<span style="color: #f87171;"><i class="fas fa-times-circle"></i> Falla K-S</span>';
            
            return { passed, value: maxD, critical };
        }

        function showFinalResult(results) {
            const allPassed = results.histogram.passed && results.scatter.passed && results.ks.passed;
            const passedCount = [results.histogram.passed, results.scatter.passed, results.ks.passed].filter(Boolean).length;
            
            const finalResultDiv = document.getElementById('dashFinalResult');
            const finalTextDiv = document.getElementById('dashFinalText');
            const summaryDiv = document.getElementById('dashTestsSummary');
            
            if (allPassed) {
                finalResultDiv.innerHTML = '<i class="fas fa-check-circle" style="color: #4ade80;"></i>';
                finalTextDiv.innerHTML = '<span style="color: #4ade80; font-weight: 600;">GENERADOR APROBADO</span>';
            } else if (passedCount >= 2) {
                finalResultDiv.innerHTML = '<i class="fas fa-exclamation-triangle" style="color: #fbbf24;"></i>';
                finalTextDiv.innerHTML = '<span style="color: #fbbf24; font-weight: 600;">APROBADO CON RESERVAS</span>';
            } else {
                finalResultDiv.innerHTML = '<i class="fas fa-times-circle" style="color: #f87171;"></i>';
                finalTextDiv.innerHTML = '<span style="color: #f87171; font-weight: 600;">GENERADOR RECHAZADO</span>';
            }
            
            summaryDiv.innerHTML = `
                <div style="display: flex; flex-direction: column; gap: 4px;">
                    <div>${results.histogram.passed ? '‚úì' : '‚úó'} Uniformidad (œá¬≤)</div>
                    <div>${results.scatter.passed ? '‚úì' : '‚úó'} Independencia</div>
                    <div>${results.ks.passed ? '‚úì' : '‚úó'} Kolmogorov-Smirnov</div>
                    <div style="margin-top: 8px; font-weight: 600;">${passedCount}/3 pruebas pasadas</div>
                </div>
            `;
        }
        </script>

        <!-- Slide 17: Ventajas y Limitaciones -->
        <div class="slide">
            <h2><i class="fas fa-balance-scale"></i> Ventajas y Limitaciones</h2>
            <div class="content-grid">
                <div class="feature-card">
                    <h3><i class="fas fa-thumbs-up"></i> Ventajas del GCL</h3>
                    <ul>
                        <li><strong>Simplicidad</strong>: F√°cil implementaci√≥n</li>
                        <li><strong>Eficiencia</strong>: Computacionalmente r√°pido</li>
                        <li><strong>Reproducibilidad</strong>: Control total de la secuencia</li>
                        <li><strong>Teor√≠a s√≥lida</strong>: Base matem√°tica bien establecida</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3><i class="fas fa-exclamation-triangle"></i> Limitaciones</h3>
                    <ul>
                        <li><strong>Correlaciones</strong>: Pueden existir en secuencias largas</li>
                        <li><strong>Periodo limitado</strong>: Determinado por el m√≥dulo m</li>
                        <li><strong>Sensibilidad</strong>: A la elecci√≥n de par√°metros</li>
                        <li><strong>Pruebas</strong>: Requiere validaci√≥n estad√≠stica rigurosa</li>
                    </ul>
                </div>
            </div>
            <div style="margin-top: 1.5rem; text-align: center; font-size: 1.1rem; color: var(--uide-accent);">
                <i class="fas fa-lightbulb"></i> La elecci√≥n correcta de par√°metros es crucial para la calidad del generador
            </div>
        </div>

        <!-- Slide 18: Referencias -->
        <div class="slide">
            <h2><i class="fas fa-book"></i> Referencias Bibliogr√°ficas</h2>
            <div style="max-width: 1000px; margin: 0 auto;">
                <h3 style="margin-bottom: 1.5rem;">Bibliograf√≠a B√°sica</h3>
                <ul style="font-size: 1rem; line-height: 1.8; margin-bottom: 2rem;">
                    <li><strong>Main Yaque, P., Navarro Veguillas, H. & Morales Fern√°ndez, A. (2019).</strong> <em>Simulaci√≥n con ejercicios en R</em>. UNED - Universidad Nacional de Educaci√≥n a Distancia. <a href="https://03106355y-y-https-research-ebsco-com.proxy.uide.edu.ec/linkprocessor/plink?id=ac859883-c8c4-3899-bef5-c74ac5a8fd16" style="color: var(--uide-accent);">Enlace</a></li>
                    <li><strong>Jim√©nez Avello, A., Castro Gil, M. & Costa Garc√≠a, J. M. (2015).</strong> <em>Simulaci√≥n de procesos y aplicaciones</em>. Dextra Editorial. <a href="https://03106355y-y-https-research-ebsco-com.proxy.uide.edu.ec/linkprocessor/plink?id=e8d2f837-aae3-38ae-802d-eb9f94243137" style="color: var(--uide-accent);">Enlace</a></li>
                </ul>
                
                <h3 style="margin-bottom: 1.5rem;">Bibliograf√≠a Complementaria</h3>
                <ul style="font-size: 0.95rem; line-height: 1.7;">
                    <li><strong>Agud, L; Pla Ferrando, M. (2015).</strong> <em>Matlab para matem√°ticas en ingenier√≠as</em>. Valencia: Universitat Polit√®cnica de Val√®ncia - Espa√±a. <a href="https://03106355y-y-https-research-ebsco-com.proxy.uide.edu.ec/linkprocessor/plink?id=d305ce15-520a-3df4-94a4-3976faf5f227" style="color: var(--uide-accent);">Enlace</a></li>
                    <li><strong>Makinia, J., Zaborowska, E. (2020).</strong> <em>Mathematical modelling and computer simulation of activated sludge systems</em>. IWA publishing. <a href="https://03106355y-y-https-research-ebsco-com.proxy.uide.edu.ec/linkprocessor/plink?id=c3e17e0e-13e5-3afb-8b36-710afa833b35" style="color: var(--uide-accent);">Enlace</a></li>
                    <li><strong>Lie, K. A. (2019).</strong> <em>An introduction to reservoir simulation using MATLAB/GNU Octave: User guide for the MATLAB Reservoir Simulation Toolbox (MRST)</em>. Cambridge University Press. Reino Unido. <a href="https://03106355y-y-https-research-ebsco-com.proxy.uide.edu.ec/linkprocessor/plink?id=2835d601-b1d3-3d07-ace7-9e40d420d58a" style="color: var(--uide-accent);">Enlace</a></li>
                </ul>
                
                <h3 style="margin-bottom: 1.5rem;">Fuente ASU</h3>
                <ul style="font-size: 0.95rem; line-height: 1.7;">
                    <li><strong>Arizona State University. (2024).</strong> <em>Master Class: The Contradictions of Nuclear Power</em> - February 2024</li>
                </ul>
            </div>
        </div>

        <!-- Slide 19: Actividades Calificadas -->
        <div class="slide">
            <h2><i class="fas fa-clipboard-check"></i> Actividades Calificadas - Semana 3</h2>
            <div class="content-grid">
                <div class="feature-card">
                    <h3><i class="fas fa-flask"></i> Gesti√≥n de Pr√°ctica</h3>
                    <p style="color: var(--uide-accent); font-weight: 600; margin-bottom: 1rem;">PE-1.3 (2.25%)</p>
                    <p><strong>Implementar LCG simple y generar 10k u's; histograma y rachas</strong></p>
                    <ul style="margin-top: 1rem; font-size: 1rem;">
                        <li>Implementar Generador Congruencial Lineal (GCL) Mixto</li>
                        <li>Generar 10,000 n√∫meros pseudoaleatorios uniformes</li>
                        <li>Crear histograma de distribuci√≥n</li>
                        <li>Aplicar prueba de rachas (runs test)</li>
                        <li>Documentar par√°metros utilizados (a, c, m, semilla)</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3><i class="fas fa-file-alt"></i> Trabajo Aut√≥nomo</h3>
                    <p style="color: var(--uide-accent); font-weight: 600; margin-bottom: 1rem;">TA-1.3 (2.25%)</p>
                    <p><strong>Bit√°cora de pruebas de uniformidad (runs/frecuencias)</strong></p>
                    <ul style="margin-top: 1rem; font-size: 1rem;">
                        <li>Aplicar prueba de Kolmogorov-Smirnov (K-S)</li>
                        <li>Aplicar prueba Chi-Cuadrado (œá¬≤)</li>
                        <li>Realizar pruebas de medias y varianzas</li>
                        <li>Documentar resultados y conclusiones</li>
                        <li>Evaluar calidad del generador implementado</li>
                    </ul>
                </div>
            </div>
            <div style="margin-top: 2rem; text-align: center;">
                <div class="feature-card">
                    <h3><i class="fas fa-graduation-cap"></i> Gesti√≥n de Aprendizaje</h3>
                    <p style="color: var(--uide-accent); font-weight: 600; margin-bottom: 0.5rem;">GA-1.1 (1%)</p>
                    <p><strong>Preguntas dirigidas sobre LCG</strong></p>
                    <p style="margin-top: 1rem; font-size: 0.95rem; color: #cbd5e1;">
                        <i class="fas fa-info-circle"></i> Evaluaciones te√≥ricas y pr√°cticas en Semana 5
                    </p>
                </div>
            </div>
        </div>

        <!-- Slide 23: Reflexiones Finales -->
        <div class="slide title-slide">
            <h1><i class="fas fa-lightbulb"></i> Reflexiones Finales</h1>
            <div class="quote">
                "La calidad de una simulaci√≥n nunca puede ser mejor que la calidad de los n√∫meros pseudoaleatorios que la alimentan"
            </div>
            <h3 style="margin-top: 2rem;">Preguntas para Considerar</h3>
            <ul>
                <li>¬øC√≥mo <span class="highlight">equilibrar</span> simplicidad y calidad estad√≠stica?</li>
                <li>¬øQu√© <span class="highlight">impacto</span> tiene la elecci√≥n de par√°metros en resultados?</li>
                <li>¬øCu√°ndo es <span class="highlight">necesario</span> usar generadores m√°s sofisticados?</li>
            </ul>
            <div style="margin-top: 2rem; text-align: center; font-size: 1.2rem; color: var(--uide-accent);">
                <i class="fas fa-quote-left"></i> <em>Desaf√≠o Profesional</em> <i class="fas fa-quote-right"></i>
            </div>
        </div>
    </div>

    <!-- Navigation Controls -->
    <div class="nav-controls">
        <button class="nav-btn" id="prevBtn"><i class="fas fa-chevron-left"></i></button>
        <button class="nav-btn" id="nextBtn"><i class="fas fa-chevron-right"></i></button>
    </div>

    <!-- Slide Counter -->
    <div class="slide-counter">
        <span id="currentSlide">1</span> / <span id="totalSlides">20</span>
    </div>

    <!-- Progress Bar -->
    <div class="progress-bar" id="progressBar"></div>

    <!-- External JavaScript -->
    <script src="presentacion.js"></script>
</body>

</html>
